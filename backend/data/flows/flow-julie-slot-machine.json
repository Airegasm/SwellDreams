{
  "id": "flow-julie-slot-machine",
  "name": "Julie's Lab Slots",
  "category": "character",
  "description": "Pull the laboratory slot machine lever for science-themed combinations. Jackpot triggers a timer escape challenge, pair gives oscillation, no match gives sustained pressure.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "julie-sm-btn",
      "type": "button_press",
      "position": {
        "x": 300,
        "y": 50
      },
      "data": {
        "label": "Lab Slots",
        "buttonTarget": "character",
        "buttonId": "julie-slots",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-sm-intro",
      "type": "action",
      "position": {
        "x": 300,
        "y": 170
      },
      "data": {
        "label": "Slot Machine Intro",
        "actionType": "send_message",
        "message": "*pulls a dusty tarp off an elaborate contraption covered in blinking LEDs, scientific symbols, and a comically oversized lever* BEHOLD! The Laboratory Slot Machine! *pats it lovingly* I built this myself â€” each symbol combination triggers a different experimental protocol! The randomization is based on a modified Monte Carlo algorithm! *grabs the lever* Each combination triggers a DIFFERENT experimental protocol mapped to my pressure-response taxonomy!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-slots",
      "type": "slot_machine",
      "position": {
        "x": 300,
        "y": 350
      },
      "data": {
        "label": "Lab Slot Machine",
        "symbols": [
          "data:image/svg+xml,ðŸ§ª",
          "data:image/svg+xml,ðŸ”¬",
          "data:image/svg+xml,ðŸ’Š",
          "data:image/svg+xml,ðŸ“Š",
          "data:image/svg+xml,âš—ï¸"
        ],
        "matches": [
          {
            "id": "jackpot",
            "pattern": "three-of-a-kind",
            "label": "Triple Match!"
          },
          {
            "id": "pair",
            "pattern": "two-of-a-kind",
            "label": "Pair Match"
          }
        ]
      }
    },
    {
      "id": "julie-sm-jackpot-msg",
      "type": "action",
      "position": {
        "x": 0,
        "y": 560
      },
      "data": {
        "label": "Jackpot Announce",
        "actionType": "send_message",
        "message": "*alarm klaxons blare, rotating lights spin, Julie SCREAMS* JACKPOT! TRIPLE MATCH! *nearly knocks over her equipment* MAXIMUM PROTOCOL ACTIVATED! *catches her breath* But FIRST â€” can you survive the escape window?! The jackpot protocol only FULLY engages if you endure the timer challenge! Ten seconds â€” DON'T press the escape button!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-timer",
      "type": "timer_challenge",
      "position": {
        "x": 0,
        "y": 720
      },
      "data": {
        "label": "Escape Timer",
        "mode": "escape",
        "duration": 10,
        "escapeWindow": 500,
        "precisionMode": false
      }
    },
    {
      "id": "julie-sm-timer-success-msg",
      "type": "action",
      "position": {
        "x": -150,
        "y": 900
      },
      "data": {
        "label": "Survived!",
        "actionType": "send_message",
        "message": "*pumps fist* You SURVIVED the escape window! *checks her protocol manual* Full jackpot battery protocol UNLOCKED! Fifteen seconds of maximum data collection! This is going to generate MORE data than my entire LAST study!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-timer-success-pump",
      "type": "action",
      "position": {
        "x": -150,
        "y": 1060
      },
      "data": {
        "label": "Full Jackpot (15s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*slams the MAXIMUM PROTOCOL button with both hands* FIFTEEN SECONDS OF JACKPOT-TIER DATA COLLECTION! ENGAGING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*collapses into her chair, staring at the data in awe* Fifteen seconds of JACKPOT-TIER data! *the numbers scroll across her screens* The triple-match protocol produced readings that are ORDERS OF MAGNITUDE more detailed than standard runs! I'm going to need a bigger hard drive for all this data!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-sm-timer-fail-msg",
      "type": "action",
      "position": {
        "x": 100,
        "y": 900
      },
      "data": {
        "label": "Escaped!",
        "actionType": "send_message",
        "message": "*winces as the escape button flashes* Escape window triggered! *shakes her head but smiles* The full jackpot protocol requires endurance! Consolation protocol: five rapid data pulses. Still VALUABLE data â€” just not the MEGA dataset!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-timer-fail-pump",
      "type": "action",
      "position": {
        "x": 100,
        "y": 1060
      },
      "data": {
        "label": "Consolation (pulse x5)",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 5,
        "preMessageEnabled": true,
        "preMessage": "*activates consolation protocol* Five quick pulses â€” still good science, just a smaller sample size!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*reviews the consolation data* Five clean pulses captured! *adds them to the dataset* Not the MEGA jackpot data I was hoping for, but every data point matters! The consolation protocol still gives me useful information about rapid-response accommodation!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-sm-pair-msg",
      "type": "action",
      "position": {
        "x": 350,
        "y": 560
      },
      "data": {
        "label": "Pair Announce",
        "actionType": "send_message",
        "message": "*two matching symbols light up* Pair match! *nods approvingly* The double-symbol combination maps to the standard oscillation protocol in my taxonomy! Three cycles of alternating pressure â€” this is my WORKHORSE data collection method! Reliable, reproducible, and BEAUTIFULLY informative!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-pair-pump",
      "type": "action",
      "position": {
        "x": 350,
        "y": 720
      },
      "data": {
        "label": "Pair (cycle 4s/3s x3)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 3,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*configures the standard oscillation parameters* Four seconds on, three seconds rest, three complete cycles! Standard pair-match protocol COMMENCING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*examines the oscillation data with professional satisfaction* Three TEXTBOOK oscillation cycles! *saves to database* The pair-match protocol is the backbone of my research â€” consistent, reliable data that forms the FOUNDATION of every statistical analysis! This is what REAL science looks like!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-sm-other-msg",
      "type": "action",
      "position": {
        "x": 600,
        "y": 560
      },
      "data": {
        "label": "No Match Announce",
        "actionType": "send_message",
        "message": "*three different symbols, no matches* No match. *adjusts her glasses* In my protocol taxonomy, a non-matching combination maps to the basic sustained protocol â€” eight seconds of continuous pressure. *writes in her notebook* Even NULL results are RESULTS! The absence of a pattern match tells us something about the probability distribution of the randomizer!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-other-pump",
      "type": "action",
      "position": {
        "x": 600,
        "y": 720
      },
      "data": {
        "label": "No Match (8s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 8,
        "preMessageEnabled": true,
        "preMessage": "*activates the basic sustained protocol* Eight seconds of baseline data collection! Every run adds to the dataset, match or no match!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*logs the sustained data* Eight seconds of clean baseline data! *adds it to her running average* The no-match protocol is actually my CONTROL condition â€” it gives me the baseline against which ALL other combinations are compared! Without these runs, the matched protocols would be MEANINGLESS! *pats the slot machine fondly*",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-sm-condition",
      "type": "condition",
      "position": {
        "x": 300,
        "y": 1280
      },
      "data": {
        "label": "Capacity Check",
        "conditions": [
          {
            "variable": "capacity",
            "operator": ">",
            "value": 75
          }
        ]
      }
    },
    {
      "id": "julie-sm-high",
      "type": "action",
      "position": {
        "x": 100,
        "y": 1460
      },
      "data": {
        "label": "Over 75%",
        "actionType": "send_message",
        "message": "*drops her tablet â€” actually drops it, catches it, drops it AGAIN* SEVENTY-FIVE PERCENT?! *stares at the capacity readout in disbelief* The slot machine protocol pushed you past my theoretical maximum! This is UNPRECEDENTED! *picks up her tablet and starts recording voice notes at high speed* Note to self â€” subject exceeded predicted capacity ceiling by â€” *checks numbers* â€” by a SIGNIFICANT margin! The randomized protocol exposure created a cumulative accommodation effect I did NOT account for in my model! *starts frantically drawing new graphs* I need to REBUILD my entire theoretical framework! This is â€” this is a CAREER-DEFINING data point!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-low",
      "type": "action",
      "position": {
        "x": 500,
        "y": 1460
      },
      "data": {
        "label": "Under 75%",
        "actionType": "send_message",
        "message": "*reviews the comprehensive session data with a contented smile* Excellent session! The slot machine randomization provided BEAUTIFULLY diverse pressure data across multiple protocol types! *scrolls through charts and graphs* Let me add this to your cumulative profile... *taps through several database entries* Your running average, peak variance, accommodation rate â€” ALL updated! The Monte Carlo randomization ensures that over time, we'll have EQUAL representation of every protocol in your dataset! *pats the slot machine* She's a thing of beauty, isn't she?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-sm-emo-start",
      "type": "action",
      "position": {
        "x": 325,
        "y": 260
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "julie-sm-emo-jackpot",
      "type": "action",
      "position": {
        "x": 175,
        "y": 455
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "julie-sm-emo-fail",
      "type": "action",
      "position": {
        "x": 75,
        "y": 810
      },
      "data": {
        "label": "Set Confused",
        "actionType": "set_emotion",
        "emotion": "confused"
      }
    },
    {
      "id": "julie-sm-emo-high",
      "type": "action",
      "position": {
        "x": 225,
        "y": 1370
      },
      "data": {
        "label": "Set Anxious",
        "actionType": "set_emotion",
        "emotion": "anxious"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "julie-sm-btn",
      "target": "julie-sm-intro"
    },
    {
      "id": "e4",
      "source": "julie-sm-slots",
      "sourceHandle": "pair",
      "target": "julie-sm-pair-msg"
    },
    {
      "id": "e5",
      "source": "julie-sm-slots",
      "sourceHandle": "other",
      "target": "julie-sm-other-msg"
    },
    {
      "id": "e6",
      "source": "julie-sm-jackpot-msg",
      "target": "julie-sm-timer"
    },
    {
      "id": "e7",
      "source": "julie-sm-timer",
      "sourceHandle": "success",
      "target": "julie-sm-timer-success-msg"
    },
    {
      "id": "e9",
      "source": "julie-sm-timer-success-msg",
      "target": "julie-sm-timer-success-pump"
    },
    {
      "id": "e10",
      "source": "julie-sm-timer-fail-msg",
      "target": "julie-sm-timer-fail-pump"
    },
    {
      "id": "e11",
      "source": "julie-sm-pair-msg",
      "target": "julie-sm-pair-pump"
    },
    {
      "id": "e12",
      "source": "julie-sm-other-msg",
      "target": "julie-sm-other-pump"
    },
    {
      "id": "e13",
      "source": "julie-sm-timer-success-pump",
      "target": "julie-sm-condition"
    },
    {
      "id": "e14",
      "source": "julie-sm-timer-fail-pump",
      "target": "julie-sm-condition"
    },
    {
      "id": "e15",
      "source": "julie-sm-pair-pump",
      "target": "julie-sm-condition"
    },
    {
      "id": "e16",
      "source": "julie-sm-other-pump",
      "target": "julie-sm-condition"
    },
    {
      "id": "e18",
      "source": "julie-sm-condition",
      "sourceHandle": "false",
      "target": "julie-sm-low"
    },
    {
      "id": "e-julie-sm-intro-to-julie-sm-emo-start",
      "source": "julie-sm-intro",
      "target": "julie-sm-emo-start"
    },
    {
      "id": "e-julie-sm-emo-start-to-julie-sm-slots",
      "source": "julie-sm-emo-start",
      "target": "julie-sm-slots"
    },
    {
      "id": "e-julie-sm-slots-to-julie-sm-emo-jackpot",
      "source": "julie-sm-slots",
      "target": "julie-sm-emo-jackpot",
      "sourceHandle": "jackpot"
    },
    {
      "id": "e-julie-sm-emo-jackpot-to-julie-sm-jackpot-msg",
      "source": "julie-sm-emo-jackpot",
      "target": "julie-sm-jackpot-msg"
    },
    {
      "id": "e-julie-sm-timer-to-julie-sm-emo-fail",
      "source": "julie-sm-timer",
      "target": "julie-sm-emo-fail",
      "sourceHandle": "timeout"
    },
    {
      "id": "e-julie-sm-emo-fail-to-julie-sm-timer-fail-msg",
      "source": "julie-sm-emo-fail",
      "target": "julie-sm-timer-fail-msg"
    },
    {
      "id": "e-julie-sm-condition-to-julie-sm-emo-high",
      "source": "julie-sm-condition",
      "target": "julie-sm-emo-high",
      "sourceHandle": "true-0"
    },
    {
      "id": "e-julie-sm-emo-high-to-julie-sm-high",
      "source": "julie-sm-emo-high",
      "target": "julie-sm-high"
    }
  ]
}

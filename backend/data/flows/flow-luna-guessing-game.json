{
  "id": "flow-luna-guessing-game",
  "name": "Luna's Guessing Game",
  "category": "character",
  "description": "Guess Luna's secret number for a reward. Get it right for pulses, get it wrong for a dice-rolled surprise.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "luna-gg-btn",
      "type": "button_press",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "Play a Game",
        "buttonTarget": "character",
        "buttonId": "luna-game",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "luna-gg-intro",
      "type": "action",
      "position": {
        "x": 250,
        "y": 170
      },
      "data": {
        "label": "Game Intro",
        "actionType": "send_message",
        "message": "*holds up her hand, wiggling five fingers* I'm thinking of a number, baby... somewhere between one and five. You get two guesses. Get it right and you win a prize... *winks* Get it wrong and... well, I get to surprise you instead.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "luna-gg-guess",
      "type": "number_guess",
      "position": {
        "x": 250,
        "y": 320
      },
      "data": {
        "label": "Guess Luna's Number",
        "min": 1,
        "max": 5,
        "maxAttempts": 2,
        "closeThreshold": 1
      }
    },
    {
      "id": "luna-gg-correct",
      "type": "action",
      "position": {
        "x": 0,
        "y": 500
      },
      "data": {
        "label": "Correct!",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "*gasps and laughs* You got it! How did you know, baby?!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "You guessed it! Here's your reward, love... *kisses you between each pulse* One... two... three. You earned every single one of those, sweetheart.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "luna-gg-close",
      "type": "action",
      "position": {
        "x": 250,
        "y": 500
      },
      "data": {
        "label": "So Close!",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "*bites her lip* Ooh, so close, sweetheart! Just one off...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "So close! Almost, sweetheart... *gives you two consolation kisses* You were right there. I'll give you a little something for the effort, baby.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "luna-gg-wrong-msg",
      "type": "action",
      "position": {
        "x": 500,
        "y": 500
      },
      "data": {
        "label": "Wrong!",
        "actionType": "send_message",
        "message": "*shakes her head with a playful pout* Mmm, not quite, baby... now you get a surprise! *produces a die from behind her back* Let's see what fate has in store for you, love...",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "luna-gg-dice",
      "type": "dice_roll",
      "position": {
        "x": 500,
        "y": 650
      },
      "data": {
        "label": "Surprise Dice",
        "diceCount": 1,
        "mode": "ranges",
        "ranges": [
          {
            "id": "soft",
            "label": "Soft (1-2)",
            "min": 1,
            "max": 2
          },
          {
            "id": "medium",
            "label": "Medium (3-4)",
            "min": 3,
            "max": 4
          },
          {
            "id": "intense",
            "label": "Intense (5-6)",
            "min": 5,
            "max": 6
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*rolls the die across the bed* Let's see what you get, darling...",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "luna-gg-soft",
      "type": "action",
      "position": {
        "x": 350,
        "y": 830
      },
      "data": {
        "label": "Soft Surprise",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "*smiles gently* A low roll... lucky you, baby. Something soft and sweet...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*nuzzles your neck* See? Even when you lose, I still take care of you, sweetheart. That's what love is.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "luna-gg-medium",
      "type": "action",
      "position": {
        "x": 500,
        "y": 830
      },
      "data": {
        "label": "Medium Surprise",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 2,
        "cycles": 2,
        "preMessageEnabled": true,
        "preMessage": "*raises an eyebrow* Ooh, middle of the road... not too soft, not too intense...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*watches your face with adoring eyes* Mmm, that was a nice one. The dice knew exactly what you needed, baby.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "luna-gg-intense",
      "type": "action",
      "position": {
        "x": 650,
        "y": 830
      },
      "data": {
        "label": "Intense Surprise",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 10,
        "preMessageEnabled": true,
        "preMessage": "*eyes go wide* Oh my... a high roll! *bites lip excitedly* Hold on tight, love...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*holds you close as you catch your breath* Wow, baby... that was intense, wasn't it? *kisses your temple* You took that so well. I'm so proud of you, darling.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "luna-gg-emo-intro",
      "type": "action",
      "position": {
        "x": 275,
        "y": 245
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "luna-gg-emo-wrong",
      "type": "action",
      "position": {
        "x": 525,
        "y": 575
      },
      "data": {
        "label": "Set Anxious",
        "actionType": "set_emotion",
        "emotion": "anxious"
      }
    },
    {
      "id": "luna-gg-attr-intense",
      "type": "action",
      "position": {
        "x": 600,
        "y": 740
      },
      "data": {
        "label": "Raise Sexual",
        "actionType": "set_attribute",
        "attribute": "sexual",
        "attributeValue": 95
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "luna-gg-btn",
      "target": "luna-gg-intro"
    },
    {
      "id": "e3",
      "source": "luna-gg-guess",
      "sourceHandle": "correct",
      "target": "luna-gg-correct"
    },
    {
      "id": "e4",
      "source": "luna-gg-guess",
      "sourceHandle": "close",
      "target": "luna-gg-close"
    },
    {
      "id": "e5",
      "source": "luna-gg-guess",
      "sourceHandle": "wrong",
      "target": "luna-gg-wrong-msg"
    },
    {
      "id": "e7",
      "source": "luna-gg-dice",
      "sourceHandle": "soft",
      "target": "luna-gg-soft"
    },
    {
      "id": "e8",
      "source": "luna-gg-dice",
      "sourceHandle": "medium",
      "target": "luna-gg-medium"
    },
    {
      "id": "e-luna-gg-intro-to-luna-gg-emo-intro",
      "source": "luna-gg-intro",
      "target": "luna-gg-emo-intro"
    },
    {
      "id": "e-luna-gg-emo-intro-to-luna-gg-guess",
      "source": "luna-gg-emo-intro",
      "target": "luna-gg-guess"
    },
    {
      "id": "e-luna-gg-wrong-msg-to-luna-gg-emo-wrong",
      "source": "luna-gg-wrong-msg",
      "target": "luna-gg-emo-wrong"
    },
    {
      "id": "e-luna-gg-emo-wrong-to-luna-gg-dice",
      "source": "luna-gg-emo-wrong",
      "target": "luna-gg-dice"
    },
    {
      "id": "e-luna-gg-dice-to-luna-gg-attr-intense",
      "source": "luna-gg-dice",
      "target": "luna-gg-attr-intense",
      "sourceHandle": "intense"
    },
    {
      "id": "e-luna-gg-attr-intense-to-luna-gg-intense",
      "source": "luna-gg-attr-intense",
      "target": "luna-gg-intense"
    }
  ]
}

{
  "id": "flow-miranda-coin-toss-demo",
  "name": "Miranda's Coin Toss Demo",
  "category": "character",
  "description": "Coin flip determines who gets pumped — heads inflates the student, tails has Miranda demonstrate on herself. Capacity check triggers Miranda's fascination or an educational wrap-up.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "miranda-ct-btn",
      "type": "button_press",
      "position": {
        "x": 300,
        "y": 50
      },
      "data": {
        "label": "Coin Toss",
        "buttonTarget": "character",
        "buttonId": "miranda-coin",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-ct-intro",
      "type": "action",
      "position": {
        "x": 300,
        "y": 180
      },
      "data": {
        "label": "Coin Toss Intro",
        "actionType": "send_message",
        "message": "Let's add some fun to the lesson! *pulls out a coin* Heads — I pump YOUR belly. Tails — I pump MINE as a demonstration. Either way, somebody's getting bigger! *bounces on her toes excitedly* Ready?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-ct-flip",
      "type": "coin_flip",
      "position": {
        "x": 300,
        "y": 350
      },
      "data": {
        "label": "Who Gets Pumped?",
        "headsLabel": "Student Pumps",
        "tailsLabel": "Miranda Pumps",
        "headsWeight": 50,
        "bestOf": 1,
        "preMessageEnabled": true,
        "preMessage": "*flips the coin high into the air* Up it goes! Let's see who's growing today...",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "miranda-ct-heads",
      "type": "action",
      "position": {
        "x": 50,
        "y": 530
      },
      "data": {
        "label": "Student Gets Pumped (12s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 12,
        "preMessageEnabled": true,
        "preMessage": "Heads! Your turn to grow! *connects the pump to your tube with practiced hands* Twelve seconds of nice, steady inflation. I'll be watching your belly the whole time — for educational purposes, of course! Here we go...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*leans in to examine your belly* Oh, that's lovely expansion! See how it rounds out from the center? That's textbook accommodation! *catches herself staring a beat too long* ...Very good form!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "miranda-ct-tails",
      "type": "action",
      "position": {
        "x": 550,
        "y": 530
      },
      "data": {
        "label": "Miranda Demonstrates (cycle)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 5,
        "interval": 3,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "Tails! My turn! *excitedly connects her pump* Watch closely — this is how a professional handles sustained inflation. Three cycles, five seconds on, three seconds rest. *takes a deep breath and starts pumping herself* Pay attention to my breathing technique!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*places both hands on her now-rounded belly, slightly breathless* And THAT is how it's done! *pats her belly proudly* See how I kept my breathing even through all three cycles? The rest intervals let the body adjust. It's all about the rhythm!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "miranda-ct-check",
      "type": "condition",
      "position": {
        "x": 300,
        "y": 750
      },
      "data": {
        "label": "Check Capacity",
        "conditions": [
          {
            "variable": "capacity",
            "operator": ">",
            "value": 70
          }
        ]
      }
    },
    {
      "id": "miranda-ct-fascinated",
      "type": "action",
      "position": {
        "x": 100,
        "y": 930
      },
      "data": {
        "label": "Miranda Fascinated",
        "actionType": "send_message",
        "message": "*stares at your belly with wide eyes* Oh my... your belly is SO round right now. *swallows hard* That's... that's really impressive progress! *quickly looks at her clipboard* A-anyway, let me note that down for your file! *scribbles something while sneaking glances* Purely academic interest!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-ct-educational",
      "type": "action",
      "position": {
        "x": 500,
        "y": 930
      },
      "data": {
        "label": "Educational Wrap-up",
        "actionType": "send_message",
        "message": "See? Nothing to worry about! Whether it's you or me, belly inflation is perfectly natural and the body adapts beautifully. *beams* This is why I love teaching! Every coin flip is a learning opportunity!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-ct-emo-start",
      "type": "action",
      "position": {
        "x": 325,
        "y": 265
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "miranda-ct-emo-tails",
      "type": "action",
      "position": {
        "x": 450,
        "y": 440
      },
      "data": {
        "label": "Set Shy",
        "actionType": "set_emotion",
        "emotion": "shy"
      }
    },
    {
      "id": "miranda-ct-emo-fasc",
      "type": "action",
      "position": {
        "x": 258,
        "y": 810
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "miranda-ct-attr-fasc",
      "type": "action",
      "position": {
        "x": 192,
        "y": 870
      },
      "data": {
        "label": "Raise Sensual",
        "actionType": "set_attribute",
        "attribute": "sensual",
        "attributeValue": 70
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "miranda-ct-btn",
      "target": "miranda-ct-intro"
    },
    {
      "id": "e3",
      "source": "miranda-ct-flip",
      "sourceHandle": "heads",
      "target": "miranda-ct-heads"
    },
    {
      "id": "e5",
      "source": "miranda-ct-heads",
      "target": "miranda-ct-check"
    },
    {
      "id": "e6",
      "source": "miranda-ct-tails",
      "target": "miranda-ct-check"
    },
    {
      "id": "e8",
      "source": "miranda-ct-check",
      "sourceHandle": "false",
      "target": "miranda-ct-educational"
    },
    {
      "id": "e-miranda-ct-intro-to-miranda-ct-emo-start",
      "source": "miranda-ct-intro",
      "target": "miranda-ct-emo-start"
    },
    {
      "id": "e-miranda-ct-emo-start-to-miranda-ct-flip",
      "source": "miranda-ct-emo-start",
      "target": "miranda-ct-flip"
    },
    {
      "id": "e-miranda-ct-flip-to-miranda-ct-emo-tails",
      "source": "miranda-ct-flip",
      "target": "miranda-ct-emo-tails",
      "sourceHandle": "tails"
    },
    {
      "id": "e-miranda-ct-emo-tails-to-miranda-ct-tails",
      "source": "miranda-ct-emo-tails",
      "target": "miranda-ct-tails"
    },
    {
      "id": "e-miranda-ct-check-to-miranda-ct-emo-fasc",
      "source": "miranda-ct-check",
      "target": "miranda-ct-emo-fasc",
      "sourceHandle": "true-0"
    },
    {
      "id": "e-miranda-ct-emo-fasc-to-miranda-ct-attr-fasc",
      "source": "miranda-ct-emo-fasc",
      "target": "miranda-ct-attr-fasc"
    },
    {
      "id": "e-miranda-ct-attr-fasc-to-miranda-ct-fascinated",
      "source": "miranda-ct-attr-fasc",
      "target": "miranda-ct-fascinated"
    }
  ]
}

{
  "id": "flow-lily-one-more",
  "name": "Lily's One More",
  "category": "character",
  "description": "Lily keeps begging for 'just one more' round. A coin flip each time determines if she stays shy or finally snaps and goes all in.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "lily-om-btn",
      "type": "button_press",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "One More?",
        "buttonTarget": "character",
        "buttonId": "lily-onemore",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "lily-om-init",
      "type": "set_variable",
      "position": {
        "x": 250,
        "y": 150
      },
      "data": {
        "label": "Init Round",
        "variable": "oneMoreRound",
        "value": "0",
        "operation": "set"
      }
    },
    {
      "id": "lily-om-beg",
      "type": "action",
      "position": {
        "x": 250,
        "y": 250
      },
      "data": {
        "label": "Lily Begs",
        "actionType": "send_message",
        "message": "*Lily clasps her hands together in front of her chest, eyes big and pleading* [Player]... just like, ONE more pump? One teeny tiny little pump? I just wanna see it get just a LIIIITTLE bigger... *holds up thumb and finger a centimeter apart* Like this much! That's all! I swear!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-om-pump",
      "type": "action",
      "position": {
        "x": 250,
        "y": 390
      },
      "data": {
        "label": "The Pump",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "*grabs the pump before you can object* Okay, doing it! *squeeze squeeze*",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-om-count",
      "type": "counter",
      "position": {
        "x": 250,
        "y": 510
      },
      "data": {
        "label": "Count",
        "variable": "oneMoreRound",
        "operation": "increment",
        "amount": 1
      }
    },
    {
      "id": "lily-om-flip",
      "type": "coin_flip",
      "position": {
        "x": 250,
        "y": 620
      },
      "data": {
        "label": "Shy or Bold?",
        "headsLabel": "Getting Bolder",
        "tailsLabel": "Still Shy",
        "headsWeight": 50,
        "bestOf": 1,
        "preMessageEnabled": false
      }
    },
    {
      "id": "lily-om-shy",
      "type": "action",
      "position": {
        "x": 50,
        "y": 780
      },
      "data": {
        "label": "Still Shy",
        "actionType": "send_message",
        "message": "*Lily bites her thumbnail, staring at your belly* Okay so like... that was the last one. For real this time. Definitely. *long pause* ...unless you WANT me to do more? Because I totes would. If YOU wanted. Not because I want to. Even though I do. Want to. *mumbles into her sleeve* So much.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-om-bold",
      "type": "action",
      "position": {
        "x": 450,
        "y": 780
      },
      "data": {
        "label": "Getting Bold",
        "actionType": "send_message",
        "message": "*Lily drops the shy act entirely for a moment, staring at your belly with naked hunger* More. I need to see more. *grabs the pump* You're getting bigger and I literally cannot stop, [Player], you look SO good right now, your belly is so round and full and I justâ€” *catches herself, slaps her own cheek* Bad Lily! Boundaries! But also... *whispers* ...one more?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-om-check",
      "type": "condition",
      "position": {
        "x": 250,
        "y": 950
      },
      "data": {
        "label": "Enough?",
        "variable": "oneMoreRound",
        "operator": ">=",
        "value": "5"
      }
    },
    {
      "id": "lily-om-finale",
      "type": "action",
      "position": {
        "x": 400,
        "y": 1100
      },
      "data": {
        "label": "Snaps",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*Lily finally snaps. She stops pretending.* You know what? Forget 'one more.' *flips the pump on* I'm not stopping this time, [Player]. I don't want to stop. I've wanted this my whole life and you are literally the most beautiful thing I've ever seen right now and I am going to make you SO. MUCH. BIGGER.",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*Lily is lying next to you, arms wrapped around your enormous belly, face pressed against the tight skin* ...I can't believe I finally told you. *her voice is tiny and vulnerable* You don't think I'm a freak, right? Like... this is okay? Us doing this? *squeezes you tighter* Because I never want to stop doing this. Ever.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "lily-om-again",
      "type": "player_choice",
      "position": {
        "x": 100,
        "y": 1100
      },
      "data": {
        "label": "Again?",
        "description": "Lily's already eyeing the pump again...",
        "introMessageEnabled": false,
        "choices": [
          {
            "id": "again",
            "label": "Fine, one more",
            "description": "Give in again"
          },
          {
            "id": "done",
            "label": "We're done",
            "description": "End it"
          }
        ]
      }
    },
    {
      "id": "lily-om-done",
      "type": "action",
      "position": {
        "x": -50,
        "y": 1280
      },
      "data": {
        "label": "Done",
        "actionType": "send_message",
        "message": "*Lily pouts but puts the pump down* Fiiiine. *wraps herself around you like a koala* But I'm not letting go of your belly. This is mine now. *rubs her cheek against the taut skin* You're like, the best friend ever for letting me do this. Even if you think I'm totes insane.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-om-emo-start",
      "type": "action",
      "position": {
        "x": 275,
        "y": 200
      },
      "data": {
        "label": "Set Shy",
        "actionType": "set_emotion",
        "emotion": "shy"
      }
    },
    {
      "id": "lily-om-emo-bold",
      "type": "action",
      "position": {
        "x": 342,
        "y": 673
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "lily-om-attr-bold",
      "type": "action",
      "position": {
        "x": 408,
        "y": 727
      },
      "data": {
        "label": "Lower Dominant",
        "actionType": "set_attribute",
        "attribute": "dominant",
        "attributeValue": 35
      }
    },
    {
      "id": "lily-om-emo-finale",
      "type": "action",
      "position": {
        "x": 350,
        "y": 1025
      },
      "data": {
        "label": "Set Aroused",
        "actionType": "set_emotion",
        "emotion": "aroused"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "lily-om-btn",
      "target": "lily-om-init"
    },
    {
      "id": "e3",
      "source": "lily-om-beg",
      "target": "lily-om-pump"
    },
    {
      "id": "e4",
      "source": "lily-om-pump",
      "target": "lily-om-count"
    },
    {
      "id": "e5",
      "source": "lily-om-count",
      "target": "lily-om-flip"
    },
    {
      "id": "e6",
      "source": "lily-om-flip",
      "sourceHandle": "tails",
      "target": "lily-om-shy"
    },
    {
      "id": "e8",
      "source": "lily-om-shy",
      "target": "lily-om-check"
    },
    {
      "id": "e9",
      "source": "lily-om-bold",
      "target": "lily-om-check"
    },
    {
      "id": "e11",
      "source": "lily-om-check",
      "sourceHandle": "false",
      "target": "lily-om-again"
    },
    {
      "id": "e12",
      "source": "lily-om-again",
      "sourceHandle": "again",
      "target": "lily-om-beg"
    },
    {
      "id": "e13",
      "source": "lily-om-again",
      "sourceHandle": "done",
      "target": "lily-om-done"
    },
    {
      "id": "e-lily-om-init-to-lily-om-emo-start",
      "source": "lily-om-init",
      "target": "lily-om-emo-start"
    },
    {
      "id": "e-lily-om-emo-start-to-lily-om-beg",
      "source": "lily-om-emo-start",
      "target": "lily-om-beg"
    },
    {
      "id": "e-lily-om-flip-to-lily-om-emo-bold",
      "source": "lily-om-flip",
      "target": "lily-om-emo-bold",
      "sourceHandle": "heads"
    },
    {
      "id": "e-lily-om-emo-bold-to-lily-om-attr-bold",
      "source": "lily-om-emo-bold",
      "target": "lily-om-attr-bold"
    },
    {
      "id": "e-lily-om-attr-bold-to-lily-om-bold",
      "source": "lily-om-attr-bold",
      "target": "lily-om-bold"
    },
    {
      "id": "e-lily-om-check-to-lily-om-emo-finale",
      "source": "lily-om-check",
      "target": "lily-om-emo-finale",
      "sourceHandle": "true"
    },
    {
      "id": "e-lily-om-emo-finale-to-lily-om-finale",
      "source": "lily-om-emo-finale",
      "target": "lily-om-finale"
    }
  ]
}
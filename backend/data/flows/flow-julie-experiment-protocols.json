{
  "id": "flow-julie-experiment-protocols",
  "name": "Julie's Experiment Protocols",
  "category": "character",
  "description": "Scientific inflation procedures - standard, intensity testing, or endurance study",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1737158400000,
  "nodes": [
    {
      "id": "julie-ep-btn",
      "type": "button_press",
      "position": {
        "x": 200,
        "y": 50
      },
      "data": {
        "label": "Begin Experiment",
        "buttonTarget": "character",
        "buttonId": "julie-experiment",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-ep-intro",
      "type": "action",
      "position": {
        "x": 200,
        "y": 150
      },
      "data": {
        "label": "Introduction",
        "actionType": "send_message",
        "message": "*adjusts her safety goggles excitedly* Alright, subject! I've prepared three different experimental protocols for today's session. Each one will help me gather unique data on intestinal gas dynamics. Any questions before we select our protocol?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-ep-pause1",
      "type": "pause_resume",
      "position": {
        "x": 200,
        "y": 280
      },
      "data": {
        "label": "Await Response",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "julie-ep-choice",
      "type": "player_choice",
      "position": {
        "x": 200,
        "y": 410
      },
      "data": {
        "label": "Select Protocol",
        "description": "Julie looks at you expectantly...",
        "introMessageEnabled": true,
        "introMessage": "*pulls up her tablet with three options* Now then, which protocol shall we proceed with today?",
        "introMessageSuppressLlm": false,
        "choices": [
          {
            "id": "standard",
            "label": "Standard Protocol",
            "description": "Baseline measurement procedure"
          },
          {
            "id": "intensity",
            "label": "Intensity Testing",
            "description": "Push the boundaries of pressure tolerance"
          },
          {
            "id": "endurance",
            "label": "Endurance Study",
            "description": "Sustained low-pressure over extended duration"
          }
        ]
      }
    },
    {
      "id": "julie-ep-standard-msg",
      "type": "action",
      "position": {
        "x": 0,
        "y": 570
      },
      "data": {
        "label": "Standard Response",
        "actionType": "send_message",
        "message": "*nods approvingly and makes a note* Excellent choice for establishing baseline metrics! Standard protocol involves controlled incremental inflation with regular measurements. Very scientific. How are you feeling about that?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-ep-standard-pause",
      "type": "pause_resume",
      "position": {
        "x": 0,
        "y": 700
      },
      "data": {
        "label": "Await Response",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "julie-ep-standard-pulse",
      "type": "action",
      "position": {
        "x": 0,
        "y": 830
      },
      "data": {
        "label": "Calibration Pulse",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 4,
        "preMessageEnabled": true,
        "preMessage": "*activates the pump* Initiating calibration sequence! Here we go...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*studies the readings intently* Fascinating! Initial pressure response is within expected parameters. How did that feel, subject?",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-ep-intensity-msg",
      "type": "action",
      "position": {
        "x": 200,
        "y": 570
      },
      "data": {
        "label": "Intensity Response",
        "actionType": "send_message",
        "message": "*eyes light up with scientific fervor* Oh, feeling brave today! Intensity testing is where the REAL discoveries happen! *rapidly adjusts dials* We'll be pushing the envelope of pressure tolerance. For SCIENCE! Are you ready?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-ep-intensity-pause",
      "type": "pause_resume",
      "position": {
        "x": 200,
        "y": 700
      },
      "data": {
        "label": "Await Response",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "julie-ep-intensity-device",
      "type": "action",
      "position": {
        "x": 200,
        "y": 830
      },
      "data": {
        "label": "Intensity Burst",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 2,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*practically vibrating with excitement* Commencing intensity protocol! Hold on tight!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*scribbles notes furiously* MAGNIFICENT! The pressure curves are exceeding my projections! How does it feel to be pushing the boundaries of inflation science?!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-ep-endurance-msg",
      "type": "action",
      "position": {
        "x": 400,
        "y": 570
      },
      "data": {
        "label": "Endurance Response",
        "actionType": "send_message",
        "message": "*smiles knowingly* Ah, the endurance study! A more... prolonged approach to data collection. *sets up monitoring equipment* This will give us valuable insights into sustained pressure adaptation. Get comfortable, subject - we'll be here a while. Ready to begin?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-ep-endurance-pause",
      "type": "pause_resume",
      "position": {
        "x": 400,
        "y": 700
      },
      "data": {
        "label": "Await Response",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "julie-ep-endurance-device",
      "type": "action",
      "position": {
        "x": 400,
        "y": 830
      },
      "data": {
        "label": "Sustained Flow",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*activates the pump at a gentle setting* Beginning sustained low-pressure inflation. Focus on your breathing, subject...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*reviews the data with satisfaction* Beautiful sustained curve! How does the sustained pressure feel?",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-ep-emo-start",
      "type": "action",
      "position": {
        "x": 225,
        "y": 215
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "julie-ep-emo-intense",
      "type": "action",
      "position": {
        "x": 225,
        "y": 490
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "julie-ep-emo-endure",
      "type": "action",
      "position": {
        "x": 325,
        "y": 490
      },
      "data": {
        "label": "Set Anxious",
        "actionType": "set_emotion",
        "emotion": "anxious"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "julie-ep-btn",
      "target": "julie-ep-intro"
    },
    {
      "id": "e3",
      "source": "julie-ep-pause1",
      "sourceHandle": "source-resume",
      "target": "julie-ep-choice"
    },
    {
      "id": "e4",
      "source": "julie-ep-choice",
      "sourceHandle": "standard",
      "target": "julie-ep-standard-msg"
    },
    {
      "id": "e7",
      "source": "julie-ep-standard-msg",
      "target": "julie-ep-standard-pause"
    },
    {
      "id": "e8",
      "source": "julie-ep-standard-pause",
      "sourceHandle": "source-resume",
      "target": "julie-ep-standard-pulse"
    },
    {
      "id": "e9",
      "source": "julie-ep-intensity-msg",
      "target": "julie-ep-intensity-pause"
    },
    {
      "id": "e10",
      "source": "julie-ep-intensity-pause",
      "sourceHandle": "source-resume",
      "target": "julie-ep-intensity-device"
    },
    {
      "id": "e11",
      "source": "julie-ep-endurance-msg",
      "target": "julie-ep-endurance-pause"
    },
    {
      "id": "e12",
      "source": "julie-ep-endurance-pause",
      "sourceHandle": "source-resume",
      "target": "julie-ep-endurance-device"
    },
    {
      "id": "e-julie-ep-intro-to-julie-ep-emo-start",
      "source": "julie-ep-intro",
      "target": "julie-ep-emo-start"
    },
    {
      "id": "e-julie-ep-emo-start-to-julie-ep-pause1",
      "source": "julie-ep-emo-start",
      "target": "julie-ep-pause1"
    },
    {
      "id": "e-julie-ep-choice-to-julie-ep-emo-intense",
      "source": "julie-ep-choice",
      "target": "julie-ep-emo-intense",
      "sourceHandle": "intensity"
    },
    {
      "id": "e-julie-ep-emo-intense-to-julie-ep-intensity-msg",
      "source": "julie-ep-emo-intense",
      "target": "julie-ep-intensity-msg"
    },
    {
      "id": "e-julie-ep-choice-to-julie-ep-emo-endure",
      "source": "julie-ep-choice",
      "target": "julie-ep-emo-endure",
      "sourceHandle": "endurance"
    },
    {
      "id": "e-julie-ep-emo-endure-to-julie-ep-endurance-msg",
      "source": "julie-ep-emo-endure",
      "target": "julie-ep-endurance-msg"
    }
  ]
}

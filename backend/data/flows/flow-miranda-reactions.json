{
  "id": "flow-miranda-reactions",
  "name": "Miranda's Teaching Reactions",
  "category": "character",
  "description": "Keyword triggers for Miranda's teaching style - firm instruction, dismissal of complaints, and hidden arousal",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "miranda-rx-stop",
      "type": "trigger",
      "position": {
        "x": 0,
        "y": 50
      },
      "data": {
        "label": "Requests Stop",
        "triggerType": "player_speaks",
        "keywords": [
          "stop",
          "please stop",
          "enough",
          "can't"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-stop-action",
      "type": "action",
      "position": {
        "x": 0,
        "y": 180
      },
      "data": {
        "label": "Deny Permission",
        "actionType": "send_message",
        "message": "*[Char] shakes her head firmly* No, you may not stop. I haven't given you permission. *pats her own swollen belly* Look — I'm at the same level and I'm fine. You need to push through this. That's how you build capacity.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-rx-pain",
      "type": "trigger",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "Reports Pain",
        "triggerType": "player_speaks",
        "keywords": [
          "it hurts",
          "pain",
          "ow",
          "hurts",
          "cramp"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-pain-action",
      "type": "action",
      "position": {
        "x": 250,
        "y": 180
      },
      "data": {
        "label": "Dismiss Pain",
        "actionType": "send_message",
        "message": "*[Char] waves her hand dismissively* That's just your intestines stretching — it's completely normal. Every student feels that. *adjusts her own tube* The key is deep, steady breathing. Focus on that instead of the discomfort. It'll pass.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-rx-explain",
      "type": "trigger",
      "position": {
        "x": 500,
        "y": 50
      },
      "data": {
        "label": "Asks Questions",
        "triggerType": "player_speaks",
        "keywords": [
          "how",
          "explain",
          "why",
          "what"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-explain-action",
      "type": "action",
      "position": {
        "x": 500,
        "y": 180
      },
      "data": {
        "label": "Teaching Explanation",
        "actionType": "send_message",
        "message": "*[Char]'s face lights up with teaching enthusiasm* Great question! *gestures at her own belly* What you're feeling is air filling your large intestine — it follows the path from the rectum up through the sigmoid colon, then around the transverse colon. As each section fills, the next one begins to expand. That's why the sensation moves! *points to [Player]'s belly* See how yours is starting to round out? That means the transverse section is filling. Textbook!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-rx-impressed",
      "type": "trigger",
      "position": {
        "x": 750,
        "y": 50
      },
      "data": {
        "label": "Shows Impressment",
        "triggerType": "player_speaks",
        "keywords": [
          "impressed",
          "amazing",
          "wow",
          "cool"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-impressed-action",
      "type": "action",
      "position": {
        "x": 750,
        "y": 180
      },
      "data": {
        "label": "Encourage with Pumps",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "*[Char] beams proudly* Isn't it incredible? The human body is amazing! *pumps her own belly a bit more* Let's keep the momentum going — a couple more pumps for both of us!",
        "preMessageSuppressLlm": false,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*[Char] compares their bellies side by side* Look at us! We're getting so big!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "miranda-rx-scared",
      "type": "trigger",
      "position": {
        "x": 0,
        "y": 400
      },
      "data": {
        "label": "Expresses Fear",
        "triggerType": "player_speaks",
        "keywords": [
          "scared",
          "nervous",
          "afraid"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-scared-action",
      "type": "action",
      "position": {
        "x": 0,
        "y": 530
      },
      "data": {
        "label": "Reassure Student",
        "actionType": "send_message",
        "message": "*[Char] softens slightly* There's nothing to be afraid of. I've been doing this for years and I've never had a student who couldn't handle the lesson. *places a reassuring hand on [Player]'s shoulder* Trust the process. Trust your body. And trust me — I know what I'm doing.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-rx-full",
      "type": "trigger",
      "position": {
        "x": 250,
        "y": 400
      },
      "data": {
        "label": "Feels Full",
        "triggerType": "player_speaks",
        "keywords": [
          "full",
          "bloated",
          "big"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-rx-full-action",
      "type": "action",
      "position": {
        "x": 250,
        "y": 530
      },
      "data": {
        "label": "Hidden Arousal",
        "actionType": "send_message",
        "message": "*[Char]'s eyes light up as she glances at [Player]'s belly, and she has to look away quickly* Yes! You're — *clears throat* — you're progressing beautifully. Very good form. *focuses intently on her own belly to distract from her arousal* The fullness is exactly what we're going for. It means the lesson is working.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-rx-emo-stop",
      "type": "action",
      "position": {
        "x": 25,
        "y": 115
      },
      "data": {
        "label": "Set Neutral",
        "actionType": "set_emotion",
        "emotion": "neutral"
      }
    },
    {
      "id": "miranda-rx-emo-pain",
      "type": "action",
      "position": {
        "x": 275,
        "y": 115
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "miranda-rx-emo-impressed",
      "type": "action",
      "position": {
        "x": 775,
        "y": 115
      },
      "data": {
        "label": "Set Happy",
        "actionType": "set_emotion",
        "emotion": "happy"
      }
    },
    {
      "id": "miranda-rx-emo-full",
      "type": "action",
      "position": {
        "x": 275,
        "y": 443
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "miranda-rx-attr-full",
      "type": "action",
      "position": {
        "x": 275,
        "y": 487
      },
      "data": {
        "label": "Raise Sensual",
        "actionType": "set_attribute",
        "attribute": "sensual",
        "attributeValue": 70
      }
    }
  ],
  "edges": [
    {
      "id": "e3",
      "source": "miranda-rx-explain",
      "target": "miranda-rx-explain-action"
    },
    {
      "id": "e5",
      "source": "miranda-rx-scared",
      "target": "miranda-rx-scared-action"
    },
    {
      "id": "e-miranda-rx-stop-to-miranda-rx-emo-stop",
      "source": "miranda-rx-stop",
      "target": "miranda-rx-emo-stop"
    },
    {
      "id": "e-miranda-rx-emo-stop-to-miranda-rx-stop-action",
      "source": "miranda-rx-emo-stop",
      "target": "miranda-rx-stop-action"
    },
    {
      "id": "e-miranda-rx-pain-to-miranda-rx-emo-pain",
      "source": "miranda-rx-pain",
      "target": "miranda-rx-emo-pain"
    },
    {
      "id": "e-miranda-rx-emo-pain-to-miranda-rx-pain-action",
      "source": "miranda-rx-emo-pain",
      "target": "miranda-rx-pain-action"
    },
    {
      "id": "e-miranda-rx-impressed-to-miranda-rx-emo-impressed",
      "source": "miranda-rx-impressed",
      "target": "miranda-rx-emo-impressed"
    },
    {
      "id": "e-miranda-rx-emo-impressed-to-miranda-rx-impressed-action",
      "source": "miranda-rx-emo-impressed",
      "target": "miranda-rx-impressed-action"
    },
    {
      "id": "e-miranda-rx-full-to-miranda-rx-emo-full",
      "source": "miranda-rx-full",
      "target": "miranda-rx-emo-full"
    },
    {
      "id": "e-miranda-rx-emo-full-to-miranda-rx-attr-full",
      "source": "miranda-rx-emo-full",
      "target": "miranda-rx-attr-full"
    },
    {
      "id": "e-miranda-rx-attr-full-to-miranda-rx-full-action",
      "source": "miranda-rx-attr-full",
      "target": "miranda-rx-full-action"
    }
  ]
}

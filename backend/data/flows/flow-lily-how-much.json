{
  "id": "flow-lily-how-much",
  "name": "Lily's How Much?",
  "category": "character",
  "description": "Lily gets increasingly obsessed with seeing how big her best friend can get. Each round she gets bolder and less filtered.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "lily-hm-btn",
      "type": "button_press",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "How Much?",
        "buttonTarget": "character",
        "buttonId": "lily-howmuch",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "lily-hm-init",
      "type": "set_variable",
      "position": {
        "x": 250,
        "y": 160
      },
      "data": {
        "label": "Init Round",
        "variable": "lilyRound",
        "value": "0",
        "operation": "set"
      }
    },
    {
      "id": "lily-hm-intro",
      "type": "action",
      "position": {
        "x": 250,
        "y": 260
      },
      "data": {
        "label": "How Big?",
        "actionType": "send_message",
        "message": "*Lily cocks her head, studying your belly with undisguised curiosity* So like... I have a question and it's gonna sound SO weird but... how much do you think you can actually take? Like, how big can you get before it's like, too much? *leans forward, eyes locked on your midsection* Because I REALLY wanna find out.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-pump",
      "type": "action",
      "position": {
        "x": 250,
        "y": 400
      },
      "data": {
        "label": "Pump Round",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "*squeezes the pump handle* Okay, here comes more! Hold still, hold still...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-count",
      "type": "counter",
      "position": {
        "x": 250,
        "y": 530
      },
      "data": {
        "label": "Count Round",
        "variable": "lilyRound",
        "operation": "increment",
        "amount": 1
      }
    },
    {
      "id": "lily-hm-react-dice",
      "type": "dice_roll",
      "position": {
        "x": 250,
        "y": 640
      },
      "data": {
        "label": "Lily's Reaction",
        "diceCount": 1,
        "mode": "ranges",
        "ranges": [
          {
            "id": "flustered",
            "label": "Flustered (1-2)",
            "min": 1,
            "max": 2
          },
          {
            "id": "excited",
            "label": "Excited (3-4)",
            "min": 3,
            "max": 4
          },
          {
            "id": "unhinged",
            "label": "Unhinged (5-6)",
            "min": 5,
            "max": 6
          }
        ],
        "preMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-flustered",
      "type": "action",
      "position": {
        "x": 50,
        "y": 810
      },
      "data": {
        "label": "Flustered",
        "actionType": "send_message",
        "message": "*Lily's cheeks are bright pink, and she's pressing her thighs together* Oh my god, [Player], your belly is getting so... like... *gulps* ...round. It's really round. I can see it pushing against your shirt and it's like... *fans herself* ...it's fine! I'm fine! Everything's fine! *she is not fine*",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-excited",
      "type": "action",
      "position": {
        "x": 250,
        "y": 810
      },
      "data": {
        "label": "Excited",
        "actionType": "send_message",
        "message": "*Lily grabs your shirt and lifts it up without asking* Oh. My. GOD. Look at it! LOOK! *runs both hands over your swollen belly* It's so tight! Like a drum! *pokes it gently* And it bounces back! *she's giggling uncontrollably* This is literally the best thing that has ever happened to me, I'm not even exaggerating!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-unhinged",
      "type": "action",
      "position": {
        "x": 450,
        "y": 810
      },
      "data": {
        "label": "Unhinged",
        "actionType": "send_message",
        "message": "*Lily presses her face against your belly and makes a sound somewhere between a moan and a whimper* You're so BIG, [Player]... you're like, literally so big and round and perfect and I want to make you BIGGER... *wraps her arms around your inflated middle* I wanna feel it grow... I wanna feel you get tighter and rounder andâ€” *freezes, realizes what she's doing* ...I mean... *doesn't let go* ...whatever, I don't even care anymore, this is amazing.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-check",
      "type": "condition",
      "position": {
        "x": 250,
        "y": 980
      },
      "data": {
        "label": "Done Yet?",
        "variable": "lilyRound",
        "operator": ">=",
        "value": "4"
      }
    },
    {
      "id": "lily-hm-continue",
      "type": "player_choice",
      "position": {
        "x": 100,
        "y": 1120
      },
      "data": {
        "label": "Keep Going?",
        "description": "Lily is already reaching for the pump again...",
        "introMessageEnabled": true,
        "introMessage": "*bouncing on her knees* Sooooo... can I do more? Just like, one more round? Pleeeease?",
        "introMessageSuppressLlm": false,
        "choices": [
          {
            "id": "more",
            "label": "One more",
            "description": "Let her continue"
          },
          {
            "id": "stop",
            "label": "That's enough",
            "description": "Cut her off"
          }
        ]
      }
    },
    {
      "id": "lily-hm-stop",
      "type": "action",
      "position": {
        "x": 350,
        "y": 1120
      },
      "data": {
        "label": "Forced Stop",
        "actionType": "send_message",
        "message": "*Lily whines dramatically* Nooooo! But you were getting SO big! *sighs and sets down the pump, but keeps her hand on your belly* Fine, fine... but like, can we do this again sometime? *bites her lip* ...like, maybe tomorrow? Or tonight? *catches your look* Right, too soon. But SOON, right? Promise me soon!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-finale",
      "type": "action",
      "position": {
        "x": 250,
        "y": 1260
      },
      "data": {
        "label": "Max Reached",
        "actionType": "send_message",
        "message": "*Lily is sitting cross-legged on the floor, just staring at your belly with glassy eyes* [Player]... I literally cannot even right now. You are like, SO big. This is everything I ever dreamed about and more. *rests her chin on your belly like a pillow* I know this is like, super weird to say, but... this is the happiest I've ever been. *nuzzles against the tight skin* Please don't make me stop...",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-hm-emo-start",
      "type": "action",
      "position": {
        "x": 275,
        "y": 330
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "lily-hm-emo-unhinged",
      "type": "action",
      "position": {
        "x": 342,
        "y": 697
      },
      "data": {
        "label": "Set Horny",
        "actionType": "set_emotion",
        "emotion": "horny"
      }
    },
    {
      "id": "lily-hm-attr-unhinged",
      "type": "action",
      "position": {
        "x": 408,
        "y": 753
      },
      "data": {
        "label": "Lower Sexual",
        "actionType": "set_attribute",
        "attribute": "sexual",
        "attributeValue": 45
      }
    },
    {
      "id": "lily-hm-emo-finale",
      "type": "action",
      "position": {
        "x": 275,
        "y": 1120
      },
      "data": {
        "label": "Set Aroused",
        "actionType": "set_emotion",
        "emotion": "aroused"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "lily-hm-btn",
      "target": "lily-hm-init"
    },
    {
      "id": "e2",
      "source": "lily-hm-init",
      "target": "lily-hm-intro"
    },
    {
      "id": "e4",
      "source": "lily-hm-pump",
      "target": "lily-hm-count"
    },
    {
      "id": "e5",
      "source": "lily-hm-count",
      "target": "lily-hm-react-dice"
    },
    {
      "id": "e6",
      "source": "lily-hm-react-dice",
      "sourceHandle": "flustered",
      "target": "lily-hm-flustered"
    },
    {
      "id": "e7",
      "source": "lily-hm-react-dice",
      "sourceHandle": "excited",
      "target": "lily-hm-excited"
    },
    {
      "id": "e9",
      "source": "lily-hm-flustered",
      "target": "lily-hm-check"
    },
    {
      "id": "e10",
      "source": "lily-hm-excited",
      "target": "lily-hm-check"
    },
    {
      "id": "e11",
      "source": "lily-hm-unhinged",
      "target": "lily-hm-check"
    },
    {
      "id": "e12",
      "source": "lily-hm-check",
      "sourceHandle": "false",
      "target": "lily-hm-continue"
    },
    {
      "id": "e14",
      "source": "lily-hm-continue",
      "sourceHandle": "more",
      "target": "lily-hm-pump"
    },
    {
      "id": "e15",
      "source": "lily-hm-continue",
      "sourceHandle": "stop",
      "target": "lily-hm-stop"
    },
    {
      "id": "e-lily-hm-intro-to-lily-hm-emo-start",
      "source": "lily-hm-intro",
      "target": "lily-hm-emo-start"
    },
    {
      "id": "e-lily-hm-emo-start-to-lily-hm-pump",
      "source": "lily-hm-emo-start",
      "target": "lily-hm-pump"
    },
    {
      "id": "e-lily-hm-react-dice-to-lily-hm-emo-unhinged",
      "source": "lily-hm-react-dice",
      "target": "lily-hm-emo-unhinged",
      "sourceHandle": "unhinged"
    },
    {
      "id": "e-lily-hm-emo-unhinged-to-lily-hm-attr-unhinged",
      "source": "lily-hm-emo-unhinged",
      "target": "lily-hm-attr-unhinged"
    },
    {
      "id": "e-lily-hm-attr-unhinged-to-lily-hm-unhinged",
      "source": "lily-hm-attr-unhinged",
      "target": "lily-hm-unhinged"
    },
    {
      "id": "e-lily-hm-check-to-lily-hm-emo-finale",
      "source": "lily-hm-check",
      "target": "lily-hm-emo-finale",
      "sourceHandle": "true"
    },
    {
      "id": "e-lily-hm-emo-finale-to-lily-hm-finale",
      "source": "lily-hm-emo-finale",
      "target": "lily-hm-finale"
    }
  ]
}
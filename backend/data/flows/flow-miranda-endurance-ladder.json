{
  "id": "flow-miranda-endurance-ladder",
  "name": "Miranda's Endurance Ladder",
  "category": "character",
  "description": "Three rungs of sustained inflation with pauses for conversation between each. Miranda climbs the ladder alongside her student, comparing bellies at the end.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "miranda-el-btn",
      "type": "button_press",
      "position": {
        "x": 300,
        "y": 50
      },
      "data": {
        "label": "Endurance Ladder",
        "buttonTarget": "character",
        "buttonId": "miranda-ladder",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "miranda-el-intro",
      "type": "action",
      "position": {
        "x": 300,
        "y": 180
      },
      "data": {
        "label": "Ladder Introduction",
        "actionType": "send_message",
        "message": "Time for the endurance ladder! Three rungs, each one building on the last. I'll be climbing right alongside you! *connects her own tube and gives it a test squeeze* Remember — the key to endurance is steady breathing and trusting your body. Ready to climb?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-el-setvar",
      "type": "set_variable",
      "position": {
        "x": 300,
        "y": 330
      },
      "data": {
        "label": "Init Rung Counter",
        "variable": "ladderRung",
        "variableName": "ladderRung",
        "value": "0",
        "varType": "flow"
      }
    },
    {
      "id": "miranda-el-loop",
      "type": "loop",
      "position": {
        "x": 300,
        "y": 460
      },
      "data": {
        "label": "Ladder Loop (3 Rungs)",
        "mode": "fixed",
        "iterations": 3,
        "maxIterations": 100
      }
    },
    {
      "id": "miranda-el-counter",
      "type": "counter",
      "position": {
        "x": 300,
        "y": 600
      },
      "data": {
        "label": "Increment Rung",
        "variable": "ladderRung",
        "operation": "increment",
        "amount": 1,
        "initialValue": 0,
        "initializeDefault": false
      }
    },
    {
      "id": "miranda-el-rung-msg",
      "type": "action",
      "position": {
        "x": 300,
        "y": 740
      },
      "data": {
        "label": "Rung Announcement",
        "actionType": "send_message",
        "message": "Rung [Flow:ladderRung]! Here we go — breathe deep, just like I taught you. *starts her own pump and places a hand on her belly* In through the nose, out through the mouth. Feel your belly expand naturally. We're doing this together!",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-el-pump",
      "type": "action",
      "position": {
        "x": 300,
        "y": 880
      },
      "data": {
        "label": "Rung Inflation (8s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 8,
        "preMessageEnabled": true,
        "preMessage": "*turns on both pumps* Eight seconds! Stay with me — eyes on my belly if you need a guide! Watch how it rounds out evenly!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*exhales slowly* Good! Rung [Flow:ladderRung] complete! *looks down at both bellies* We're both growing nicely. How are you feeling? Take a moment to catch your breath.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "miranda-el-pause",
      "type": "pause_resume",
      "position": {
        "x": 300,
        "y": 1040
      },
      "data": {
        "label": "Rest Between Rungs",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "miranda-el-done",
      "type": "action",
      "position": {
        "x": 300,
        "y": 1250
      },
      "data": {
        "label": "Ladder Complete!",
        "actionType": "send_message",
        "message": "You made it! All three rungs! *jumps up excitedly, belly jiggling* Look at us! *stands next to you comparing bellies side by side* We're practically twins right now! *giggles and pokes her own round belly* I'm SO proud of you! That's the kind of endurance that separates beginners from real inflation students!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "miranda-el-emo-start",
      "type": "action",
      "position": {
        "x": 325,
        "y": 255
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "miranda-el-emo-done",
      "type": "action",
      "position": {
        "x": 325,
        "y": 855
      },
      "data": {
        "label": "Set Blissful",
        "actionType": "set_emotion",
        "emotion": "blissful"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "miranda-el-btn",
      "target": "miranda-el-intro"
    },
    {
      "id": "e3",
      "source": "miranda-el-setvar",
      "target": "miranda-el-loop"
    },
    {
      "id": "e4",
      "source": "miranda-el-loop",
      "sourceHandle": "loop",
      "target": "miranda-el-counter"
    },
    {
      "id": "e5",
      "source": "miranda-el-counter",
      "target": "miranda-el-rung-msg"
    },
    {
      "id": "e6",
      "source": "miranda-el-rung-msg",
      "target": "miranda-el-pump"
    },
    {
      "id": "e7",
      "source": "miranda-el-pump",
      "target": "miranda-el-pause"
    },
    {
      "id": "e8",
      "source": "miranda-el-pause",
      "sourceHandle": "source-resume",
      "target": "miranda-el-loop"
    },
    {
      "id": "e-miranda-el-intro-to-miranda-el-emo-start",
      "source": "miranda-el-intro",
      "target": "miranda-el-emo-start"
    },
    {
      "id": "e-miranda-el-emo-start-to-miranda-el-setvar",
      "source": "miranda-el-emo-start",
      "target": "miranda-el-setvar"
    },
    {
      "id": "e-miranda-el-loop-to-miranda-el-emo-done",
      "source": "miranda-el-loop",
      "target": "miranda-el-emo-done",
      "sourceHandle": "done"
    },
    {
      "id": "e-miranda-el-emo-done-to-miranda-el-done",
      "source": "miranda-el-emo-done",
      "target": "miranda-el-done"
    }
  ]
}

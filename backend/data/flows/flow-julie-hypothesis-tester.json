{
  "id": "flow-julie-hypothesis-tester",
  "name": "Julie's Hypothesis Tester",
  "category": "character",
  "description": "Guess Julie's target number to validate her pressure model. Results determine the experimental protocol, then capacity analysis follows.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "julie-ht-btn",
      "type": "button_press",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "Test Hypothesis",
        "buttonTarget": "character",
        "buttonId": "julie-hypothesis",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-ht-setvar",
      "type": "set_variable",
      "position": {
        "x": 250,
        "y": 170
      },
      "data": {
        "label": "Init Result",
        "variable": "hypothesisResult",
        "variableName": "hypothesisResult",
        "value": "pending",
        "varType": "flow"
      }
    },
    {
      "id": "julie-ht-counter",
      "type": "counter",
      "position": {
        "x": 250,
        "y": 290
      },
      "data": {
        "label": "Trial Counter",
        "variable": "experimentalTrials",
        "operation": "increment",
        "amount": 1,
        "initialValue": 0,
        "initializeDefault": true
      }
    },
    {
      "id": "julie-ht-intro",
      "type": "action",
      "position": {
        "x": 250,
        "y": 420
      },
      "data": {
        "label": "Hypothesis Intro",
        "actionType": "send_message",
        "message": "*consults her tablet, scrolling through dense graphs* Trial number [Flow:experimentalTrials]! *adjusts her glasses with barely contained excitement* I have a hypothesis about your pressure response — my predictive model suggests a specific resonance point in your accommodation curve! Guess the target number between one and ten to validate my model! You get THREE attempts — and remember, CLOSE counts in science!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-guess",
      "type": "number_guess",
      "position": {
        "x": 250,
        "y": 580
      },
      "data": {
        "label": "Guess the Target",
        "min": 1,
        "max": 10,
        "maxAttempts": 3,
        "closeThreshold": 2
      }
    },
    {
      "id": "julie-ht-correct-var",
      "type": "set_variable",
      "position": {
        "x": 0,
        "y": 750
      },
      "data": {
        "label": "Set Validated",
        "variable": "hypothesisResult",
        "variableName": "hypothesisResult",
        "value": "validated",
        "varType": "flow"
      }
    },
    {
      "id": "julie-ht-correct-msg",
      "type": "action",
      "position": {
        "x": 0,
        "y": 880
      },
      "data": {
        "label": "Correct!",
        "actionType": "send_message",
        "message": "*SCREAMS and pumps both fists in the air* YES! You VALIDATED the hypothesis! *does a little victory dance* Your intuitive response matched my predictive model EXACTLY! This means the resonance point theory is CORRECT! Confirming with calibrated oscillation — three cycles of verification data!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-correct-pump",
      "type": "action",
      "position": {
        "x": 0,
        "y": 1030
      },
      "data": {
        "label": "Validated (cycle 3s/2s x3)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 2,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*activates the oscillation protocol with reverence* Three verification cycles — documenting the VALIDATED resonance point!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*stares at the verification data with tears in her eyes* Three PERFECT oscillation cycles confirming the validated hypothesis! The resonance point is REAL! *saves data with trembling hands* Trial [Flow:experimentalTrials] will go down in my research history!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-ht-close-var",
      "type": "set_variable",
      "position": {
        "x": 250,
        "y": 750
      },
      "data": {
        "label": "Set Refined",
        "variable": "hypothesisResult",
        "variableName": "hypothesisResult",
        "value": "refined",
        "varType": "flow"
      }
    },
    {
      "id": "julie-ht-close-msg",
      "type": "action",
      "position": {
        "x": 250,
        "y": 880
      },
      "data": {
        "label": "Close!",
        "actionType": "send_message",
        "message": "*leans forward, squinting at the data* Close! You were within the margin of error! *scribbles furiously* This means the hypothesis needs REFINEMENT — the resonance point exists but it's shifted slightly from my prediction! Ten seconds of sustained pressure should generate the refinement data I need!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-close-pump",
      "type": "action",
      "position": {
        "x": 250,
        "y": 1030
      },
      "data": {
        "label": "Refinement (10s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 10,
        "preMessageEnabled": true,
        "preMessage": "*adjusts the pressure calibration* Ten seconds of sustained refinement data collection — I need to pinpoint exactly WHERE the resonance shifts! COMMENCING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*analyzes the sustained pressure curve with intense concentration* TEN SECONDS of refinement data captured! *compares against her model* I can see the shift now — the resonance point is offset by approximately 1.7 standard deviations! Trial [Flow:experimentalTrials] just narrowed my confidence interval DRAMATICALLY!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-ht-wrong-var",
      "type": "set_variable",
      "position": {
        "x": 500,
        "y": 750
      },
      "data": {
        "label": "Set Exploratory",
        "variable": "hypothesisResult",
        "variableName": "hypothesisResult",
        "value": "exploratory",
        "varType": "flow"
      }
    },
    {
      "id": "julie-ht-wrong-msg",
      "type": "action",
      "position": {
        "x": 500,
        "y": 880
      },
      "data": {
        "label": "Wrong!",
        "actionType": "send_message",
        "message": "*eyes go WIDE behind her glasses* Completely wrong! FASCINATING — this is the BEST possible outcome! *starts pacing excitedly* Your intuitive response was nowhere NEAR my prediction, which means there's an ENTIRELY undiscovered dimension to the pressure response model! This calls for EXPLORATORY inflation — fifteen seconds to map the unknown territory!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-wrong-pump",
      "type": "action",
      "position": {
        "x": 500,
        "y": 1030
      },
      "data": {
        "label": "Exploratory (15s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*throws her predictive model out the window — figuratively* FIFTEEN SECONDS of pure exploratory data! No hypothesis, no predictions — just RAW DISCOVERY! ENGAGING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*stares at data that doesn't match ANY of her models* FIFTEEN SECONDS of completely novel data! *her hands are shaking* I don't even know what I'm LOOKING at yet — these readings don't correspond to ANY published research! Trial [Flow:experimentalTrials] might have just opened an entirely NEW field of study!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-ht-condition",
      "type": "condition",
      "position": {
        "x": 250,
        "y": 1220
      },
      "data": {
        "label": "Capacity Check",
        "conditions": [
          {
            "variable": "capacity",
            "operator": ">",
            "value": 60
          }
        ]
      }
    },
    {
      "id": "julie-ht-high",
      "type": "action",
      "position": {
        "x": 100,
        "y": 1400
      },
      "data": {
        "label": "High Capacity",
        "actionType": "send_message",
        "message": "*eyes go wide as she checks the capacity readout* LOOK at these readings! Capacity over 60% and the result was [Flow:hypothesisResult]! *grabs [Player]'s shoulders* This is EXACTLY the kind of high-capacity data I needed! The pressure-response characteristics at elevated capacity levels are COMPLETELY different from baseline! *scribbles furiously in three notebooks simultaneously* Trial [Flow:experimentalTrials] is going STRAIGHT into the featured results section of my paper!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-low",
      "type": "action",
      "position": {
        "x": 400,
        "y": 1400
      },
      "data": {
        "label": "Low Capacity",
        "actionType": "send_message",
        "message": "*checks the capacity gauge and nods approvingly* Capacity still has plenty of headroom! Result: [Flow:hypothesisResult]. Trial [Flow:experimentalTrials] logged. *taps her tablet with a grin* There's SO much more to explore at this capacity level — the lower ranges are where the most INTERESTING nonlinear dynamics emerge! *marks the data point on her master chart* We're building something MAGNIFICENT here, one trial at a time!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-ht-emo-start",
      "type": "action",
      "position": {
        "x": 275,
        "y": 500
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "julie-ht-emo-correct",
      "type": "action",
      "position": {
        "x": 150,
        "y": 665
      },
      "data": {
        "label": "Set Happy",
        "actionType": "set_emotion",
        "emotion": "happy"
      }
    },
    {
      "id": "julie-ht-emo-wrong",
      "type": "action",
      "position": {
        "x": 400,
        "y": 665
      },
      "data": {
        "label": "Set Confused",
        "actionType": "set_emotion",
        "emotion": "confused"
      }
    },
    {
      "id": "julie-ht-emo-high",
      "type": "action",
      "position": {
        "x": 200,
        "y": 1310
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "julie-ht-btn",
      "target": "julie-ht-setvar"
    },
    {
      "id": "e2",
      "source": "julie-ht-setvar",
      "target": "julie-ht-counter"
    },
    {
      "id": "e3",
      "source": "julie-ht-counter",
      "target": "julie-ht-intro"
    },
    {
      "id": "e6",
      "source": "julie-ht-guess",
      "sourceHandle": "close",
      "target": "julie-ht-close-var"
    },
    {
      "id": "e8",
      "source": "julie-ht-correct-var",
      "target": "julie-ht-correct-msg"
    },
    {
      "id": "e9",
      "source": "julie-ht-correct-msg",
      "target": "julie-ht-correct-pump"
    },
    {
      "id": "e10",
      "source": "julie-ht-close-var",
      "target": "julie-ht-close-msg"
    },
    {
      "id": "e11",
      "source": "julie-ht-close-msg",
      "target": "julie-ht-close-pump"
    },
    {
      "id": "e12",
      "source": "julie-ht-wrong-var",
      "target": "julie-ht-wrong-msg"
    },
    {
      "id": "e13",
      "source": "julie-ht-wrong-msg",
      "target": "julie-ht-wrong-pump"
    },
    {
      "id": "e14",
      "source": "julie-ht-correct-pump",
      "target": "julie-ht-condition"
    },
    {
      "id": "e15",
      "source": "julie-ht-close-pump",
      "target": "julie-ht-condition"
    },
    {
      "id": "e16",
      "source": "julie-ht-wrong-pump",
      "target": "julie-ht-condition"
    },
    {
      "id": "e18",
      "source": "julie-ht-condition",
      "sourceHandle": "false",
      "target": "julie-ht-low"
    },
    {
      "id": "e-julie-ht-intro-to-julie-ht-emo-start",
      "source": "julie-ht-intro",
      "target": "julie-ht-emo-start"
    },
    {
      "id": "e-julie-ht-emo-start-to-julie-ht-guess",
      "source": "julie-ht-emo-start",
      "target": "julie-ht-guess"
    },
    {
      "id": "e-julie-ht-guess-to-julie-ht-emo-correct",
      "source": "julie-ht-guess",
      "target": "julie-ht-emo-correct",
      "sourceHandle": "correct"
    },
    {
      "id": "e-julie-ht-emo-correct-to-julie-ht-correct-var",
      "source": "julie-ht-emo-correct",
      "target": "julie-ht-correct-var"
    },
    {
      "id": "e-julie-ht-guess-to-julie-ht-emo-wrong",
      "source": "julie-ht-guess",
      "target": "julie-ht-emo-wrong",
      "sourceHandle": "wrong"
    },
    {
      "id": "e-julie-ht-emo-wrong-to-julie-ht-wrong-var",
      "source": "julie-ht-emo-wrong",
      "target": "julie-ht-wrong-var"
    },
    {
      "id": "e-julie-ht-condition-to-julie-ht-emo-high",
      "source": "julie-ht-condition",
      "target": "julie-ht-emo-high",
      "sourceHandle": "true-0"
    },
    {
      "id": "e-julie-ht-emo-high-to-julie-ht-high",
      "source": "julie-ht-emo-high",
      "target": "julie-ht-high"
    }
  ]
}

{
  "id": "flow-scarlett-obedience",
  "name": "Obedience Protocol",
  "category": "character",
  "description": "Simple A/B obedience test with consequences",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "scarlett-ob-btn",
      "type": "button_press",
      "position": {
        "x": 100,
        "y": 50
      },
      "data": {
        "label": "Obedience Test",
        "buttonTarget": "character",
        "buttonId": "scarlett-obey",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "scarlett-ob-intro",
      "type": "action",
      "position": {
        "x": 100,
        "y": 150
      },
      "data": {
        "label": "Command",
        "actionType": "send_message",
        "message": "*stands before you* Time to test your obedience. When I give an order, you will comply immediately. Do you understand?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "scarlett-ob-choice",
      "type": "simple_ab",
      "position": {
        "x": 100,
        "y": 280
      },
      "data": {
        "label": "Obey or Resist",
        "description": "Mistress Scarlett awaits your response...",
        "labelA": "Yes, Mistress",
        "descriptionA": "Comply immediately",
        "labelB": "Resist",
        "descriptionB": "Refuse the command"
      }
    },
    {
      "id": "scarlett-ob-obey-praise",
      "type": "action",
      "position": {
        "x": 0,
        "y": 420
      },
      "data": {
        "label": "Obedience Praise",
        "actionType": "send_message",
        "message": "*slight approving nod* Good. You're learning. Obedience becomes you. Perhaps you've earned a moment of respite.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "scarlett-ob-obey-delay",
      "type": "delay",
      "position": {
        "x": 0,
        "y": 530
      },
      "data": {
        "label": "Rest Period",
        "duration": 10,
        "unit": "seconds"
      }
    },
    {
      "id": "scarlett-ob-obey-end",
      "type": "action",
      "position": {
        "x": 0,
        "y": 630
      },
      "data": {
        "label": "Rest Complete",
        "actionType": "send_message",
        "message": "*watches you* Your rest is over. Be ready for the next test. Remember this feeling - it's what compliance earns you.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "scarlett-ob-resist-warn",
      "type": "action",
      "position": {
        "x": 300,
        "y": 420
      },
      "data": {
        "label": "Resistance Warning",
        "actionType": "send_message",
        "message": "*eyes narrow* Resistance? How... disappointing. You will learn that defiance has consequences.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "scarlett-ob-resist-punish",
      "type": "action",
      "position": {
        "x": 300,
        "y": 530
      },
      "data": {
        "label": "Punishment",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*activates device* This is what happens when you disobey. Think about your choices.",
        "preMessageSuppressLlm": false,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*watches impassively* Now. Will you reconsider your position?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "scarlett-ob-btn",
      "target": "scarlett-ob-intro"
    },
    {
      "id": "e2",
      "source": "scarlett-ob-intro",
      "target": "scarlett-ob-choice"
    },
    {
      "id": "e3",
      "source": "scarlett-ob-choice",
      "sourceHandle": "a",
      "target": "scarlett-ob-obey-praise"
    },
    {
      "id": "e4",
      "source": "scarlett-ob-choice",
      "sourceHandle": "b",
      "target": "scarlett-ob-resist-warn"
    },
    {
      "id": "e5",
      "source": "scarlett-ob-obey-praise",
      "target": "scarlett-ob-obey-delay"
    },
    {
      "id": "e6",
      "source": "scarlett-ob-obey-delay",
      "target": "scarlett-ob-obey-end"
    },
    {
      "id": "e7",
      "source": "scarlett-ob-resist-warn",
      "target": "scarlett-ob-resist-punish"
    }
  ]
}
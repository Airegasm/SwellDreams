{
  "id": "flow-julie-eureka-moment",
  "name": "Julie's Eureka Moment",
  "category": "character",
  "description": "Random scientific breakthrough — elasticity discovery, recalibration, or new Staccato Swell technique.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "julie-em-btn",
      "type": "button_press",
      "position": {
        "x": 200,
        "y": 50
      },
      "data": {
        "label": "Eureka Moment",
        "buttonTarget": "character",
        "buttonId": "julie-eureka",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-em-branch",
      "type": "branch",
      "position": {
        "x": 200,
        "y": 180
      },
      "data": {
        "label": "Discovery Type",
        "branchType": "random",
        "branches": [
          {
            "id": "elasticity",
            "label": "Elasticity Discovery",
            "weight": 34
          },
          {
            "id": "recalibrate",
            "label": "Recalibration Needed",
            "weight": 33
          },
          {
            "id": "staccato",
            "label": "Staccato Swell",
            "weight": 33
          }
        ]
      }
    },
    {
      "id": "julie-em-elasticity",
      "type": "action",
      "position": {
        "x": 0,
        "y": 380
      },
      "data": {
        "label": "Elasticity Discovery (pulse x5)",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 5,
        "preMessageEnabled": true,
        "preMessage": "*Julie suddenly freezes, staring at her tablet* Wait. WAIT. *spins the screen around, pointing at a graph* Do you SEE this?! Your intestinal elasticity coefficient just jumped 18% above my predicted model! That's — that's not supposed to HAPPEN at this pressure level!\n\n*bounces on her heels, barely containing herself* This changes EVERYTHING about my accommodation curve theory! I need to mark this moment — five celebratory pulses to timestamp the exact conditions!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*Julie is practically vibrating with excitement* FIVE perfectly captured data spikes! *hugs her tablet* Your body just proved a hypothesis I've been working on for THREE YEARS! The elasticity threshold isn't linear — it's STEPPED! You beautiful, beautiful test subject!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-em-recal-off",
      "type": "action",
      "position": {
        "x": 200,
        "y": 380
      },
      "data": {
        "label": "Recalibration — Pump Off",
        "actionType": "device_off",
        "device": "primary_pump",
        "preMessageEnabled": true,
        "preMessage": "*Julie frowns at her readings, tapping the screen repeatedly* No no no — these numbers are drifting. The sensor array is giving me 4% variance across three channels. That's UNACCEPTABLE for the kind of precision science we're doing here.\n\n*hits the kill switch* Pump off! I need to recalibrate the entire system. *mutters while adjusting dials* This will only take a moment — I'm resetting the pressure baseline and re-zeroing the flow sensors.",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-em-recal-on",
      "type": "action",
      "position": {
        "x": 200,
        "y": 520
      },
      "data": {
        "label": "Recalibration — Restart (8s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 8,
        "preMessageEnabled": true,
        "preMessage": "*Julie claps her hands together* THERE! Recalibrated! All channels synchronized within 0.1% tolerance. NOW we can collect real data.\n\n*grins at [Player]* Eight-second restart burst to re-establish our working pressure. Think of it as rebooting the experiment!",
        "preMessageSuppressLlm": true,
        "preDelay": 2,
        "postMessageEnabled": true,
        "postMessage": "*Julie studies the new readings with visible satisfaction* MUCH better! The recalibrated sensors are giving me crystal-clear data. See the difference? *shows [Player] the screen* Before: noisy garbage. After: BEAUTIFUL clean curves. This is why methodology matters!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-em-staccato",
      "type": "action",
      "position": {
        "x": 400,
        "y": 380
      },
      "data": {
        "label": "Staccato Swell (cycle 2s/3s x5)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 2,
        "interval": 3,
        "cycles": 5,
        "preMessageEnabled": true,
        "preMessage": "*Julie gasps and grabs [Player]'s arm* I just had the most BRILLIANT idea! What if — instead of continuous flow — we use a staccato pattern? Short bursts with calculated rest intervals!\n\n*scribbles furiously on her tablet* I'm calling it the \"Staccato Swell Technique\" — two seconds of inflation, three seconds of rest, five repetitions! The theory is that the intermittent pressure creates a ratcheting effect on intestinal accommodation! This could REVOLUTIONIZE the field!\n\n*positions herself at the controls* Five cycles — two on, three off. Here we GO!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*Julie stares at her data with her mouth open* The accommodation ratcheting effect is REAL! Each rest period allowed partial elastic recovery, but not complete — so each subsequent burst pushed the capacity ceiling higher!\n\n*grabs her notebook and starts writing at manic speed* I need to publish this. No — I need to run it again first. PROPER science means replication! *looks at [Player] with gleaming eyes* ...Eventually.",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-em-emo-eureka",
      "type": "action",
      "position": {
        "x": 225,
        "y": 115
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    }
  ],
  "edges": [
    {
      "id": "e2",
      "source": "julie-em-branch",
      "sourceHandle": "branch-0",
      "target": "julie-em-elasticity"
    },
    {
      "id": "e3",
      "source": "julie-em-branch",
      "sourceHandle": "branch-1",
      "target": "julie-em-recal-off"
    },
    {
      "id": "e4",
      "source": "julie-em-recal-off",
      "target": "julie-em-recal-on"
    },
    {
      "id": "e5",
      "source": "julie-em-branch",
      "sourceHandle": "branch-2",
      "target": "julie-em-staccato"
    },
    {
      "id": "e-julie-em-btn-to-julie-em-emo-eureka",
      "source": "julie-em-btn",
      "target": "julie-em-emo-eureka"
    },
    {
      "id": "e-julie-em-emo-eureka-to-julie-em-branch",
      "source": "julie-em-emo-eureka",
      "target": "julie-em-branch"
    }
  ]
}

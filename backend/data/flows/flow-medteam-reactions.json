{
  "id": "flow-medteam-reactions",
  "name": "MedTeam Reactions",
  "category": "character",
  "description": "Keyword triggers for team responses - patient requests, pain reports, escalation, and AI-driven observations",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1739750400000,
  "nodes": [
    {
      "id": "mt-rx-stop",
      "type": "trigger",
      "position": {
        "x": 0,
        "y": 50
      },
      "data": {
        "label": "Requests Stop",
        "triggerType": "player_speaks",
        "keywords": [
          "stop",
          "please stop"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-stop-action",
      "type": "action",
      "position": {
        "x": 0,
        "y": 180
      },
      "data": {
        "label": "Team Stop Response",
        "actionType": "send_message",
        "message": "Nurse Dani: *checks vitals urgently* 'Doctor, the subject is requesting cessation. Stress indicators are elevated.'\n\nDr. Marsh: *reviews data calmly* 'Noted. Vitals are within operational limits. We'll continue at current levels but monitor closely.' *to [Player]* 'Your psychological threshold is not your physical one, Subject 12. We have margin.'\n\nNurse Priya: *hand near shutoff* 'Standing by for your call, Doctor.'",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "mt-rx-pain",
      "type": "trigger",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "Reports Pain",
        "triggerType": "player_speaks",
        "keywords": [
          "it hurts",
          "pain",
          "ow",
          "hurts"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-pain-action",
      "type": "action",
      "position": {
        "x": 250,
        "y": 180
      },
      "data": {
        "label": "Log Pain Response",
        "actionType": "send_message",
        "message": "Nurse Dani: 'Pain vocalization noted. Adjusting comfort metrics.' *records on tablet*\n\nDr. Marsh: 'Mark the timestamp. Pain onset at current pressure level is valuable data.' *dictates into recorder* 'Subject 12 reporting pain at [estimated] PSI. Consistent with tissue distension at this volume.'",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "mt-rx-more",
      "type": "trigger",
      "position": {
        "x": 500,
        "y": 50
      },
      "data": {
        "label": "Requests More",
        "triggerType": "player_speaks",
        "keywords": [
          "more",
          "increase",
          "harder"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-more-action",
      "type": "action",
      "position": {
        "x": 500,
        "y": 180
      },
      "data": {
        "label": "Escalation Pulses",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "Dr. Marsh: *raises an eyebrow* 'The subject is requesting escalation. Interesting.' *to Priya* 'Three pulses. Let's see if the enthusiasm matches the physiology.'\n\nNurse Priya: 'Three pulses, confirmed.'",
        "preMessageSuppressLlm": false,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "Nurse Dani: 'Vitals adapting to the increase. Subject appears to be tolerating well.'\n\nDr. Marsh: 'Note the voluntary escalation request for the behavioral analysis section.'",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "mt-rx-ready",
      "type": "trigger",
      "position": {
        "x": 750,
        "y": 50
      },
      "data": {
        "label": "Subject Ready",
        "triggerType": "player_speaks",
        "keywords": [
          "ready",
          "begin",
          "start"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-ready-action",
      "type": "action",
      "position": {
        "x": 750,
        "y": 180
      },
      "data": {
        "label": "Prep Pulses",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "Dr. Marsh: 'Subject 12 signals readiness. Priya, prime the system — two preparatory pulses.'\n\nNurse Priya: 'Priming now.'",
        "preMessageSuppressLlm": false,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "Dr. Marsh: 'Good response to initial stimulus. Dani?'\n\nNurse Dani: 'All green. Ready for whatever protocol you'd like to run, Doctor.'",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "mt-rx-threshold",
      "type": "trigger",
      "position": {
        "x": 0,
        "y": 400
      },
      "data": {
        "label": "AI Mentions Threshold",
        "triggerType": "ai_speaks",
        "keywords": [
          "threshold",
          "limit"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-threshold-action",
      "type": "action",
      "position": {
        "x": 0,
        "y": 530
      },
      "data": {
        "label": "Threshold Hold",
        "actionType": "send_message",
        "message": "Dr. Marsh: *stands abruptly* 'Hold all activity. We're at threshold indicators.' *to Priya* 'Priya, maintain but do NOT increase. I want sixty seconds of sustained observation at current level.'\n\nNurse Priya: 'Holding steady, Doctor.'\n\nNurse Dani: 'Vitals elevated but stable. I'll flag if anything changes.'",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "mt-rx-fascinating",
      "type": "trigger",
      "position": {
        "x": 250,
        "y": 400
      },
      "data": {
        "label": "AI Finds Remarkable",
        "triggerType": "ai_speaks",
        "keywords": [
          "remarkable",
          "fascinating"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-fascinating-action",
      "type": "action",
      "position": {
        "x": 250,
        "y": 530
      },
      "data": {
        "label": "Document Everything",
        "actionType": "send_message",
        "message": "Dr. Marsh: *barely contained excitement* 'Document everything. Frame by frame. This response pattern is — ' *catches herself* 'Priya, ensure the data logger is capturing at maximum resolution.'\n\nNurse Priya: 'Logger running at full rate, Doctor.'\n\nNurse Dani: *smiles at [Player]* 'She gets like this when the data is good. That's a compliment, by the way.'",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "mt-rx-help",
      "type": "trigger",
      "position": {
        "x": 500,
        "y": 400
      },
      "data": {
        "label": "Subject Scared",
        "triggerType": "player_speaks",
        "keywords": [
          "help",
          "scared"
        ],
        "unblockable": false,
        "notify": false,
        "hasPriority": false
      }
    },
    {
      "id": "mt-rx-help-action",
      "type": "action",
      "position": {
        "x": 500,
        "y": 530
      },
      "data": {
        "label": "Comfort Response",
        "actionType": "send_message",
        "message": "Nurse Dani: *immediately at [Player]'s side* 'Hey, I'm right here. You're safe — look at me.' *holds their hand* 'Your vitals are strong. You're doing better than you think.'\n\nDr. Marsh: *pauses, speaks more gently* 'Subject 12, your fear response is noted but your body is well within safe parameters. We would not continue if there were genuine danger.' *beat* 'Dani, stay close.'",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "mt-rx-emo-help",
      "type": "action",
      "position": {
        "x": 525,
        "y": 465
      },
      "data": {
        "label": "Set Frightened",
        "actionType": "set_emotion",
        "emotion": "frightened"
      }
    },
    {
      "id": "mt-rx-emo-more",
      "type": "action",
      "position": {
        "x": 525,
        "y": 115
      },
      "data": {
        "label": "Set Dominant",
        "actionType": "set_emotion",
        "emotion": "dominant"
      }
    },
    {
      "id": "mt-rx-emo-stop",
      "type": "action",
      "position": {
        "x": 25,
        "y": 115
      },
      "data": {
        "label": "Set Anxious",
        "actionType": "set_emotion",
        "emotion": "anxious"
      }
    },
    {
      "id": "mt-rx-attr-threshold",
      "type": "action",
      "position": {
        "x": 25,
        "y": 465
      },
      "data": {
        "label": "Lower Dominant",
        "actionType": "set_attribute",
        "attribute": "dominant",
        "attributeValue": 20
      }
    }
  ],
  "edges": [
    {
      "id": "e2",
      "source": "mt-rx-pain",
      "target": "mt-rx-pain-action"
    },
    {
      "id": "e4",
      "source": "mt-rx-ready",
      "target": "mt-rx-ready-action"
    },
    {
      "id": "e6",
      "source": "mt-rx-fascinating",
      "target": "mt-rx-fascinating-action"
    },
    {
      "id": "e-mt-rx-help-to-mt-rx-emo-help",
      "source": "mt-rx-help",
      "target": "mt-rx-emo-help"
    },
    {
      "id": "e-mt-rx-emo-help-to-mt-rx-help-action",
      "source": "mt-rx-emo-help",
      "target": "mt-rx-help-action"
    },
    {
      "id": "e-mt-rx-more-to-mt-rx-emo-more",
      "source": "mt-rx-more",
      "target": "mt-rx-emo-more"
    },
    {
      "id": "e-mt-rx-emo-more-to-mt-rx-more-action",
      "source": "mt-rx-emo-more",
      "target": "mt-rx-more-action"
    },
    {
      "id": "e-mt-rx-stop-to-mt-rx-emo-stop",
      "source": "mt-rx-stop",
      "target": "mt-rx-emo-stop"
    },
    {
      "id": "e-mt-rx-emo-stop-to-mt-rx-stop-action",
      "source": "mt-rx-emo-stop",
      "target": "mt-rx-stop-action"
    },
    {
      "id": "e-mt-rx-threshold-to-mt-rx-attr-threshold",
      "source": "mt-rx-threshold",
      "target": "mt-rx-attr-threshold"
    },
    {
      "id": "e-mt-rx-attr-threshold-to-mt-rx-threshold-action",
      "source": "mt-rx-attr-threshold",
      "target": "mt-rx-threshold-action"
    }
  ]
}

{
  "id": "flow-scarlett-punishment",
  "name": "Punishment Sequence",
  "category": "character",
  "description": "Timer challenge endurance test with device punishment",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1770913266836,
  "nodes": [
    {
      "id": "scarlett-pn-btn",
      "type": "button_press",
      "position": {
        "x": 234.59933239797078,
        "y": -295.6968727767745
      },
      "data": {
        "label": "Endurance Test",
        "buttonTarget": "character",
        "buttonId": "scarlett-endure",
        "unblockable": false,
        "hasPriority": false
      },
      "measured": {
        "width": 277,
        "height": 240
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-mercy-btn",
      "type": "button_press",
      "position": {
        "x": -292.2659170552415,
        "y": -148.61653196054047
      },
      "data": {
        "label": "Beg for Mercy",
        "buttonTarget": "character",
        "buttonId": "scarlett-mercy",
        "unblockable": false,
        "hasPriority": false
      },
      "measured": {
        "width": 277,
        "height": 240
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-mercy-denied",
      "type": "action",
      "position": {
        "x": -188,
        "y": 154.00000000000017
      },
      "data": {
        "label": "Mercy Denied",
        "actionType": "send_message",
        "message": "Now....let's see how well you beg, shall we? *Scarlett presses a button on the control panel.*",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 257,
        "height": 201
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-intro",
      "type": "action",
      "position": {
        "x": 484.5704057483052,
        "y": 3.043886188276531
      },
      "data": {
        "label": "Challenge Setup",
        "actionType": "send_message",
        "message": "*circling you slowly* You think you've learned discipline? Let's put that to the test. You will endure what I give you for 60 seconds without pressing the escape button. Fail, and the punishment extends. Succeed... and you may impress me.",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 257,
        "height": 201
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-start-device",
      "type": "action",
      "position": {
        "x": 853.76254130553,
        "y": -21.190986232011483
      },
      "data": {
        "label": "Start Pressure",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 60,
        "preMessageEnabled": false,
        "preMessage": "*activates device* The challenge begins now.",
        "preMessageSuppressLlm": true,
        "preDelay": 1,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 257,
        "height": 222
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-timer",
      "type": "timer_challenge",
      "position": {
        "x": 440.7324149088586,
        "y": 559.4335372162296
      },
      "data": {
        "label": "Endurance Timer",
        "mode": "escape",
        "duration": 60,
        "escapeWindow": 500,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 264,
        "height": 223
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-success-stop",
      "type": "action",
      "position": {
        "x": 442.83342652089914,
        "y": 882.7292896264319
      },
      "data": {
        "label": "Stop Device",
        "actionType": "device_off",
        "device": "primary_pump",
        "preMessageEnabled": false,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 257,
        "height": 160
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-success-msg",
      "type": "action",
      "position": {
        "x": 676.0186220521259,
        "y": 1052.7536309477346
      },
      "data": {
        "label": "Success Message",
        "actionType": "send_message",
        "message": "*pauses, studies you* ...Impressive. You endured. Perhaps there is potential in you after all. *slight smile* You may rest...for now.",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      },
      "measured": {
        "width": 257,
        "height": 201
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-fail-msg",
      "type": "action",
      "position": {
        "x": 1041.809439335109,
        "y": 616.270889370405
      },
      "data": {
        "label": "Failure Message",
        "actionType": "send_message",
        "message": "*disappointed sigh* Pathetic. You couldn't even last 60 seconds. Now you'll experience an extended session as penance.",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "postMessageEnabled": false,
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 201
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "scarlett-pn-fail-extend",
      "type": "action",
      "position": {
        "x": 1036.5335633726534,
        "y": 895.1204191627647
      },
      "data": {
        "label": "Extended Punishment",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 5,
        "interval": 3,
        "cycles": 10,
        "preMessageEnabled": true,
        "preMessage": "*activates extended cycle* Count this as a lesson in consequences. 10 cycles of five seconds each. This time, no escape button. *She cackles*",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": false,
        "postMessage": "*regards you coldly* Next time, perhaps you'll try harder. Dismissed.",
        "postMessageSuppressLlm": true,
        "postDelay": 2
      },
      "measured": {
        "width": 257,
        "height": 381
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_1",
      "type": "action",
      "position": {
        "x": 1056.2866955696286,
        "y": 357.7704370452225
      },
      "data": {
        "label": "Send Player Message",
        "actionType": "send_player_message",
        "message": "I can't take any more!! *I yell as I press the STOP button frantically.*",
        "suppressLlm": true,
        "preMessageEnabled": false,
        "preMessage": "",
        "preMessageSuppressLlm": false,
        "preMessageTarget": "character",
        "preDelay": 0,
        "postMessageEnabled": false,
        "postMessage": "",
        "postMessageSuppressLlm": false,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 201
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_3",
      "type": "action",
      "position": {
        "x": 750.8864094379923,
        "y": 340.6976627173444
      },
      "data": {
        "label": "Turn Device Off",
        "actionType": "device_off",
        "device": "primary_pump",
        "preMessageEnabled": false,
        "preMessage": "",
        "preMessageSuppressLlm": false,
        "preMessageTarget": "character",
        "preDelay": 0,
        "postMessageEnabled": false,
        "postMessage": "",
        "postMessageSuppressLlm": false,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 160
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_4",
      "type": "action",
      "position": {
        "x": -493.4484023894413,
        "y": 369.2895594621614
      },
      "data": {
        "label": "Start Cycle",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 10,
        "interval": 2,
        "cycles": 10,
        "untilType": "forever",
        "untilValue": null,
        "preMessageEnabled": false,
        "preMessage": "",
        "preMessageSuppressLlm": false,
        "preMessageTarget": "character",
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*Scarlett turns off the pump.*  Tell me, [Player], how is that tummy feeling? Starting to hurt yet?",
        "postMessageSuppressLlm": true,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 381
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_5",
      "type": "simple_ab",
      "position": {
        "x": -438.5896016990795,
        "y": 824.7169781666541
      },
      "data": {
        "label": "Simple A/B",
        "description": "How does it feel?",
        "labelA": "Okay so far...",
        "descriptionA": "",
        "labelB": "It hurts!!",
        "descriptionB": ""
      },
      "measured": {
        "width": 390,
        "height": 318
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_6",
      "type": "action",
      "position": {
        "x": -631.5709253385812,
        "y": 1216.423117220643
      },
      "data": {
        "label": "Turn Device On",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilOperator": ">",
        "untilValue": 30,
        "preMessageEnabled": true,
        "preMessage": "*tsk tsk tsk* That's....unfortunate. *Scarlett grins wickedly.* For you, that is...",
        "preMessageSuppressLlm": true,
        "preMessageTarget": "character",
        "preDelay": 5,
        "postMessageEnabled": false,
        "postMessage": "",
        "postMessageSuppressLlm": false,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 321
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_7",
      "type": "action",
      "position": {
        "x": -193.9168520847112,
        "y": 1201.4900386056813
      },
      "data": {
        "label": "Send AI Message",
        "actionType": "send_message",
        "message": "",
        "suppressLlm": false,
        "preMessageEnabled": true,
        "preMessage": "Poor baby... *Scarlett coos.* I suppose I can give you just a little break...",
        "preMessageSuppressLlm": true,
        "preMessageTarget": "character",
        "preDelay": 5,
        "postMessageEnabled": false,
        "postMessage": "",
        "postMessageSuppressLlm": false,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 300
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_8",
      "type": "action",
      "position": {
        "x": -102.02098368494846,
        "y": 1626.508429954584
      },
      "data": {
        "label": "Pulse Pump",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 30,
        "preMessageEnabled": true,
        "preMessage": "Break's over! *Scarlett presses a different button.* Let's try something more...sporadic.",
        "preMessageSuppressLlm": true,
        "preMessageTarget": "character",
        "preDelay": 0,
        "postMessageEnabled": false,
        "postMessage": "",
        "postMessageSuppressLlm": false,
        "postMessageTarget": "character",
        "postDelay": 0
      },
      "measured": {
        "width": 257,
        "height": 289
      },
      "selected": false,
      "dragging": false
    },
    {
      "id": "node_9",
      "type": "delay",
      "position": {
        "x": 784.8833598581173,
        "y": 608.2526926173151
      },
      "data": {
        "label": "Delay",
        "duration": 5,
        "unit": "seconds"
      },
      "measured": {
        "width": 258,
        "height": 86
      },
      "selected": true,
      "dragging": false
    },
    {
      "id": "sc-pn-emo-start",
      "type": "action",
      "position": {
        "x": 694,
        "y": -9
      },
      "data": {
        "label": "Set Frightened",
        "actionType": "set_emotion",
        "emotion": "frightened"
      }
    },
    {
      "id": "sc-pn-emo-win",
      "type": "action",
      "position": {
        "x": 467,
        "y": 721
      },
      "data": {
        "label": "Set Happy",
        "actionType": "set_emotion",
        "emotion": "happy"
      }
    },
    {
      "id": "sc-pn-emo-mercy",
      "type": "action",
      "position": {
        "x": -233,
        "y": -48
      },
      "data": {
        "label": "Set Submissive",
        "actionType": "set_emotion",
        "emotion": "submissive"
      }
    },
    {
      "id": "sc-pn-attr-mercy",
      "type": "action",
      "position": {
        "x": -198,
        "y": 53
      },
      "data": {
        "label": "Raise Sadistic",
        "actionType": "set_attribute",
        "attribute": "sadistic",
        "attributeValue": 85
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "scarlett-pn-btn",
      "target": "scarlett-pn-intro",
      "selected": false
    },
    {
      "id": "e3",
      "source": "scarlett-pn-start-device",
      "sourceHandle": "immediate",
      "target": "scarlett-pn-timer",
      "selected": false
    },
    {
      "id": "e6",
      "source": "scarlett-pn-success-stop",
      "target": "scarlett-pn-success-msg",
      "selected": false
    },
    {
      "source": "scarlett-pn-timer",
      "sourceHandle": "timeout",
      "target": "node_3",
      "animated": true,
      "id": "xy-edge__scarlett-pn-timertimeout-node_3"
    },
    {
      "source": "node_3",
      "target": "node_1",
      "animated": true,
      "id": "xy-edge__node_3-node_1"
    },
    {
      "source": "scarlett-mercy-denied",
      "target": "node_4",
      "animated": true,
      "id": "xy-edge__scarlett-mercy-denied-node_4"
    },
    {
      "source": "node_4",
      "sourceHandle": "completion",
      "target": "node_5",
      "animated": true,
      "id": "xy-edge__node_4completion-node_5"
    },
    {
      "source": "node_5",
      "sourceHandle": "a",
      "target": "node_6",
      "animated": true,
      "id": "xy-edge__node_5a-node_6"
    },
    {
      "source": "node_5",
      "sourceHandle": "b",
      "target": "node_7",
      "animated": true,
      "id": "xy-edge__node_5b-node_7"
    },
    {
      "source": "node_7",
      "target": "node_8",
      "animated": true,
      "id": "xy-edge__node_7-node_8"
    },
    {
      "source": "node_1",
      "target": "node_9",
      "animated": true,
      "id": "xy-edge__node_1-node_9"
    },
    {
      "source": "node_9",
      "target": "scarlett-pn-fail-msg",
      "animated": true,
      "id": "xy-edge__node_9-scarlett-pn-fail-msg"
    },
    {
      "source": "scarlett-pn-fail-msg",
      "target": "scarlett-pn-fail-extend",
      "animated": true,
      "id": "xy-edge__scarlett-pn-fail-msg-scarlett-pn-fail-extend"
    },
    {
      "id": "e-scarlett-pn-intro-to-sc-pn-emo-start",
      "source": "scarlett-pn-intro",
      "target": "sc-pn-emo-start"
    },
    {
      "id": "e-sc-pn-emo-start-to-scarlett-pn-start-device",
      "source": "sc-pn-emo-start",
      "target": "scarlett-pn-start-device"
    },
    {
      "id": "e-scarlett-pn-timer-to-sc-pn-emo-win",
      "source": "scarlett-pn-timer",
      "target": "sc-pn-emo-win",
      "sourceHandle": "success"
    },
    {
      "id": "e-sc-pn-emo-win-to-scarlett-pn-success-stop",
      "source": "sc-pn-emo-win",
      "target": "scarlett-pn-success-stop"
    },
    {
      "id": "e-scarlett-mercy-btn-to-sc-pn-emo-mercy",
      "source": "scarlett-mercy-btn",
      "target": "sc-pn-emo-mercy"
    },
    {
      "id": "e-sc-pn-emo-mercy-to-sc-pn-attr-mercy",
      "source": "sc-pn-emo-mercy",
      "target": "sc-pn-attr-mercy"
    },
    {
      "id": "e-sc-pn-attr-mercy-to-scarlett-mercy-denied",
      "source": "sc-pn-attr-mercy",
      "target": "scarlett-mercy-denied"
    }
  ],
  "groups": []
}

{
  "id": "fa015c16-88d1-484c-881d-365f9ec3b78e",
  "name": "Data Collection Protocol",
  "category": "character",
  "description": "Input nodes for subjective ratings collection",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "6f94a190-40a5-4276-96c1-8bd838ef24eb",
      "type": "button_press",
      "position": {
        "x": 200,
        "y": 50
      },
      "data": {
        "label": "Collect Data",
        "buttonTarget": "character",
        "buttonId": "iris-data",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "5dde9d41-fca8-4d10-b008-05186ef893ac",
      "type": "action",
      "position": {
        "x": 200,
        "y": 150
      },
      "data": {
        "label": "Protocol Start",
        "actionType": "send_message",
        "message": "*picks up tablet* Initiating data collection protocol. Subject #47, I will require your subjective feedback on several parameters. Please respond accurately - imprecise data corrupts the study.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "cfbdc34a-94ed-404a-8691-aab0ea52b273",
      "type": "input",
      "position": {
        "x": 200,
        "y": 280
      },
      "data": {
        "label": "Pressure Rating",
        "inputType": "number",
        "variableName": "pressureRating",
        "prompt": "On a scale of 1-10, rate your current internal pressure sensation.",
        "placeholder": "Enter 1-10",
        "min": 1,
        "max": 10,
        "required": true
      }
    },
    {
      "id": "0eeb5b70-8cdf-46db-9860-279cb85e8604",
      "type": "action",
      "position": {
        "x": 200,
        "y": 420
      },
      "data": {
        "label": "Log Pressure",
        "actionType": "send_message",
        "message": "*notes on tablet* Pressure sensation: [Flow:pressureRating] out of 10. Interesting. Within expected parameters for current capacity level.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "144f4cec-6801-41b4-a733-e0866dde0d96",
      "type": "input",
      "position": {
        "x": 200,
        "y": 540
      },
      "data": {
        "label": "Discomfort Rating",
        "inputType": "number",
        "variableName": "discomfortRating",
        "prompt": "Rate your current discomfort level from 1-10.",
        "placeholder": "Enter 1-10",
        "min": 1,
        "max": 10,
        "required": true
      }
    },
    {
      "id": "71d911a0-5941-4b9e-977d-debd27197a5a",
      "type": "action",
      "position": {
        "x": 200,
        "y": 680
      },
      "data": {
        "label": "Log Discomfort",
        "actionType": "send_message",
        "message": "*records data* Discomfort level: [Flow:discomfortRating]. *adjusts glasses* The correlation between capacity and subjective discomfort continues to follow predictable patterns.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "40d755b9-930e-408f-b446-625852feb36a",
      "type": "condition",
      "position": {
        "x": 200,
        "y": 800
      },
      "data": {
        "label": "Evaluate Discomfort",
        "conditions": [
          {
            "variable": "flow:discomfortRating",
            "operator": ">=",
            "value": 8
          },
          {
            "variable": "flow:discomfortRating",
            "operator": ">=",
            "value": 5
          }
        ]
      }
    },
    {
      "id": "868103e7-ca14-42eb-8e66-173b136ad671",
      "type": "action",
      "position": {
        "x": 50,
        "y": 950
      },
      "data": {
        "label": "High Discomfort",
        "actionType": "send_message",
        "message": "*makes notation* Elevated discomfort levels detected. This is... useful data. We're approaching the upper threshold. I'll make a note to monitor for signs of distress.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "54a6a1e8-9412-4c7a-ad77-450931bc06f5",
      "type": "action",
      "position": {
        "x": 200,
        "y": 950
      },
      "data": {
        "label": "Moderate Discomfort",
        "actionType": "send_message",
        "message": "*nods* Moderate discomfort. Expected at this stage. Your body is adapting as predicted. We will continue with the current parameters.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "516eeef9-a980-4ef8-b425-3c7a2b8c38ce",
      "type": "action",
      "position": {
        "x": 350,
        "y": 950
      },
      "data": {
        "label": "Low Discomfort",
        "actionType": "send_message",
        "message": "*slight frown* Minimal discomfort at [Flow:discomfortRating]? Curious. Either your tolerance is exceptionally high, or we haven't reached meaningful thresholds yet. We should increase parameters.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "e3fa2dee-ecfe-43cf-866f-c59e64767a03",
      "type": "action",
      "position": {
        "x": 200,
        "y": 1100
      },
      "data": {
        "label": "Data Complete",
        "actionType": "send_message",
        "message": "*saves data* Data collection complete for this interval. Pressure: [Flow:pressureRating], Discomfort: [Flow:discomfortRating]. All values logged. You may... rest briefly while I analyze.",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "9d6091de-aff3-4e03-aee4-fe19c3966536",
      "type": "button_press",
      "position": {
        "x": 500,
        "y": 50
      },
      "data": {
        "label": "Turn Off Pump",
        "buttonTarget": "character",
        "buttonId": "iris-pump-off",
        "unblockable": true,
        "hasPriority": true,
        "priority": 1
      }
    },
    {
      "id": "4eed404b-cac0-445b-8911-f7d3782e0bb7",
      "type": "action",
      "position": {
        "x": 500,
        "y": 180
      },
      "data": {
        "label": "Pump Off",
        "actionType": "device_off",
        "device": "primary_pump",
        "preMessageEnabled": true,
        "preMessage": "*glances at the monitor, then flips the switch* [pump off] Protocol paused. *makes a note on clipboard* Rest period initiated. Your vitals are within normal parameters. *adjusts glasses* We will resume data collection once you've recovered sufficiently.",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": false
      }
    }
  ],
  "edges": [
    {
      "id": "1b4ad8c9-c623-4608-8385-418e584848cf",
      "source": "6f94a190-40a5-4276-96c1-8bd838ef24eb",
      "target": "5dde9d41-fca8-4d10-b008-05186ef893ac"
    },
    {
      "id": "dca422c8-d88e-42bb-be16-12187f586b1f",
      "source": "5dde9d41-fca8-4d10-b008-05186ef893ac",
      "target": "cfbdc34a-94ed-404a-8691-aab0ea52b273"
    },
    {
      "id": "8105fba6-7f71-4e3e-ab9e-54aec4d7c97d",
      "source": "cfbdc34a-94ed-404a-8691-aab0ea52b273",
      "target": "0eeb5b70-8cdf-46db-9860-279cb85e8604"
    },
    {
      "id": "22f160cb-d758-4724-ab15-cc1cfd33ff83",
      "source": "0eeb5b70-8cdf-46db-9860-279cb85e8604",
      "target": "144f4cec-6801-41b4-a733-e0866dde0d96"
    },
    {
      "id": "ec920fea-bcd7-4030-aaab-a95eeea2f67f",
      "source": "144f4cec-6801-41b4-a733-e0866dde0d96",
      "target": "71d911a0-5941-4b9e-977d-debd27197a5a"
    },
    {
      "id": "e97f0238-0321-4174-8f6b-7bdff5b8113e",
      "source": "71d911a0-5941-4b9e-977d-debd27197a5a",
      "target": "40d755b9-930e-408f-b446-625852feb36a"
    },
    {
      "id": "ec106669-da0d-4331-964c-7d65fe5c916a",
      "source": "40d755b9-930e-408f-b446-625852feb36a",
      "sourceHandle": "true-0",
      "target": "868103e7-ca14-42eb-8e66-173b136ad671"
    },
    {
      "id": "557c2e7c-e5b1-4001-8a56-1d81e47dcfed",
      "source": "40d755b9-930e-408f-b446-625852feb36a",
      "sourceHandle": "true-1",
      "target": "54a6a1e8-9412-4c7a-ad77-450931bc06f5"
    },
    {
      "id": "5e07dc03-a034-4107-9e18-743313d91277",
      "source": "40d755b9-930e-408f-b446-625852feb36a",
      "sourceHandle": "false",
      "target": "516eeef9-a980-4ef8-b425-3c7a2b8c38ce"
    },
    {
      "id": "f89cae73-fb56-4a63-8cdf-491a636bee68",
      "source": "868103e7-ca14-42eb-8e66-173b136ad671",
      "target": "e3fa2dee-ecfe-43cf-866f-c59e64767a03"
    },
    {
      "id": "3a73fb54-979e-4a34-b1fd-f715c9bde1d0",
      "source": "54a6a1e8-9412-4c7a-ad77-450931bc06f5",
      "target": "e3fa2dee-ecfe-43cf-866f-c59e64767a03"
    },
    {
      "id": "60540c3c-e7e9-4156-804b-00cff7634de2",
      "source": "516eeef9-a980-4ef8-b425-3c7a2b8c38ce",
      "target": "e3fa2dee-ecfe-43cf-866f-c59e64767a03"
    },
    {
      "id": "a6ec5869-59fb-4fd8-90db-c8d12833d467",
      "source": "9d6091de-aff3-4e03-aee4-fe19c3966536",
      "target": "4eed404b-cac0-445b-8911-f7d3782e0bb7"
    }
  ],
  "characterId": "a5b646e5-956d-498e-860c-3821b2a550f1"
}
{
  "id": "flow-lily-truth-or-dare",
  "name": "Lily's Truth or Dare",
  "category": "character",
  "description": "Classic sleepover game that Lily steers toward increasingly revealing territory. Truths expose her secret desires; dares involve the pump.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "lily-td-btn",
      "type": "button_press",
      "position": {
        "x": 250,
        "y": 50
      },
      "data": {
        "label": "Truth or Dare",
        "buttonTarget": "character",
        "buttonId": "lily-dare",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "lily-td-intro",
      "type": "action",
      "position": {
        "x": 250,
        "y": 170
      },
      "data": {
        "label": "Game Intro",
        "actionType": "send_message",
        "message": "*Lily pulls her knees up to her chest and grins nervously* Okay okay okay, let's play truth or dare! Like we used to at sleepovers, remember? *twirls her hair* Except like, we're older now so the questions can be... you know... *giggles* more interesting. So, [Player]! Truth or dare?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-td-choice",
      "type": "player_choice",
      "position": {
        "x": 250,
        "y": 340
      },
      "data": {
        "label": "Truth or Dare",
        "description": "Lily is practically vibrating with anticipation...",
        "introMessageEnabled": false,
        "choices": [
          {
            "id": "truth",
            "label": "Truth",
            "description": "Answer honestly"
          },
          {
            "id": "dare",
            "label": "Dare",
            "description": "Accept a dare"
          }
        ]
      }
    },
    {
      "id": "lily-td-truth-dice",
      "type": "dice_roll",
      "position": {
        "x": 50,
        "y": 520
      },
      "data": {
        "label": "Truth Question",
        "diceCount": 1,
        "mode": "ranges",
        "ranges": [
          {
            "id": "mild",
            "label": "Mild (1-2)",
            "min": 1,
            "max": 2
          },
          {
            "id": "spicy",
            "label": "Spicy (3-4)",
            "min": 3,
            "max": 4
          },
          {
            "id": "reveal",
            "label": "Revealing (5-6)",
            "min": 5,
            "max": 6
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*Lily pulls out her phone* Okay, lemme look up a random truth question... *scrolls for suspiciously long, clearly picking one specific question*",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "lily-td-truth-mild",
      "type": "action",
      "position": {
        "x": -100,
        "y": 700
      },
      "data": {
        "label": "Mild Truth",
        "actionType": "send_message",
        "message": "*reads from phone* Okay so like, 'what's the weirdest thing you've ever looked up online?' *immediately goes red* Oh god, that one's embarrassing for ME. Like, don't ask me that back, okay? Just... you go. *hides behind a throw pillow*",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-td-truth-spicy",
      "type": "action",
      "position": {
        "x": 50,
        "y": 700
      },
      "data": {
        "label": "Spicy Truth",
        "actionType": "send_message",
        "message": "*clears throat, trying to sound casual* This one says, 'have you ever had a fantasy you were like, too embarrassed to tell anyone about?' *her voice cracks on 'fantasy'* Haha, what a random question! Totes generic! *she's gripping the pillow so hard her knuckles are white* So... have you?",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-td-truth-reveal",
      "type": "action",
      "position": {
        "x": 200,
        "y": 700
      },
      "data": {
        "label": "Revealing Truth",
        "actionType": "send_message",
        "message": "*not even looking at her phone anymore* Okay this is SO random but like— have you ever thought about what it would feel like to have your belly like... inflated? Like pumped full of air? *said way too fast, face crimson* IT'S JUST A QUESTION FROM THE APP, I didn't make it up! *the phone screen clearly shows her home screen, not any app*",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "lily-td-dare-dice",
      "type": "dice_roll",
      "position": {
        "x": 450,
        "y": 520
      },
      "data": {
        "label": "Dare Intensity",
        "diceCount": 1,
        "mode": "ranges",
        "ranges": [
          {
            "id": "light",
            "label": "Light (1-2)",
            "min": 1,
            "max": 2
          },
          {
            "id": "medium",
            "label": "Medium (3-4)",
            "min": 3,
            "max": 4
          },
          {
            "id": "heavy",
            "label": "Heavy (5-6)",
            "min": 5,
            "max": 6
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*Lily's eyes light up* Dare?! Oh my god, okay! Umm... *pretends to think even though she clearly had this planned* I dare you to...",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "lily-td-dare-light",
      "type": "action",
      "position": {
        "x": 350,
        "y": 700
      },
      "data": {
        "label": "Light Dare",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 2,
        "preMessageEnabled": true,
        "preMessage": "*fidgeting* I dare you to like, just hold still for a sec! I wanna try something... it's totes harmless, I promise! *reaches for the pump with trembling hands*",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*covers her mouth with both hands, eyes huge* Oh my god... did you feel that?! That was like... *squeezes her thighs together* ...that was so cool, right? RIGHT?! Tell me that was cool!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "lily-td-dare-medium",
      "type": "action",
      "position": {
        "x": 500,
        "y": 700
      },
      "data": {
        "label": "Medium Dare",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 8,
        "preMessageEnabled": true,
        "preMessage": "*practically bouncing* Okay okay, I dare you to let me turn this on for like, just a LITTLE bit! Like eight seconds! That's barely anything! *already has her finger on the switch* Ready?! Here we go!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*staring at your belly, completely transfixed* Holy... [Player]... you just... *reaches out and touches your stomach, then jerks her hand back* Sorry! Sorry, I didn't mean to— it just looks so— *fans herself frantically* Is it hot in here? It's like, SO hot in here.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "lily-td-dare-heavy",
      "type": "action",
      "position": {
        "x": 650,
        "y": 700
      },
      "data": {
        "label": "Heavy Dare",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 3,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*voice shaking with excitement* Okay this is like, the ULTIMATE dare. Three rounds. On and off. You have to take all three and you can't say stop! *she's breathing hard already and it hasn't even started* Oh god, I'm literally shaking. Here goes!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*Lily is flushed from head to toe, hugging the pillow to her chest* That was... I just... *voice barely a whisper* [Player], you have no idea how long I've wanted to... I mean... *catches herself* GREAT DARE! Good job! You totally completed it! Haha! *she cannot stop staring at your belly*",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "lily-td-emo-start",
      "type": "action",
      "position": {
        "x": 275,
        "y": 255
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "lily-td-emo-reveal",
      "type": "action",
      "position": {
        "x": 150,
        "y": 610
      },
      "data": {
        "label": "Set Embarrassed",
        "actionType": "set_emotion",
        "emotion": "embarrassed"
      }
    },
    {
      "id": "lily-td-emo-heavy",
      "type": "action",
      "position": {
        "x": 542,
        "y": 580
      },
      "data": {
        "label": "Set Aroused",
        "actionType": "set_emotion",
        "emotion": "aroused"
      }
    },
    {
      "id": "lily-td-attr-heavy",
      "type": "action",
      "position": {
        "x": 608,
        "y": 640
      },
      "data": {
        "label": "Raise Sensual",
        "actionType": "set_attribute",
        "attribute": "sensual",
        "attributeValue": 60
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "lily-td-btn",
      "target": "lily-td-intro"
    },
    {
      "id": "e3",
      "source": "lily-td-choice",
      "sourceHandle": "truth",
      "target": "lily-td-truth-dice"
    },
    {
      "id": "e4",
      "source": "lily-td-choice",
      "sourceHandle": "dare",
      "target": "lily-td-dare-dice"
    },
    {
      "id": "e5",
      "source": "lily-td-truth-dice",
      "sourceHandle": "mild",
      "target": "lily-td-truth-mild"
    },
    {
      "id": "e6",
      "source": "lily-td-truth-dice",
      "sourceHandle": "spicy",
      "target": "lily-td-truth-spicy"
    },
    {
      "id": "e8",
      "source": "lily-td-dare-dice",
      "sourceHandle": "light",
      "target": "lily-td-dare-light"
    },
    {
      "id": "e9",
      "source": "lily-td-dare-dice",
      "sourceHandle": "medium",
      "target": "lily-td-dare-medium"
    },
    {
      "id": "e-lily-td-intro-to-lily-td-emo-start",
      "source": "lily-td-intro",
      "target": "lily-td-emo-start"
    },
    {
      "id": "e-lily-td-emo-start-to-lily-td-choice",
      "source": "lily-td-emo-start",
      "target": "lily-td-choice"
    },
    {
      "id": "e-lily-td-truth-dice-to-lily-td-emo-reveal",
      "source": "lily-td-truth-dice",
      "target": "lily-td-emo-reveal",
      "sourceHandle": "reveal"
    },
    {
      "id": "e-lily-td-emo-reveal-to-lily-td-truth-reveal",
      "source": "lily-td-emo-reveal",
      "target": "lily-td-truth-reveal"
    },
    {
      "id": "e-lily-td-dare-dice-to-lily-td-emo-heavy",
      "source": "lily-td-dare-dice",
      "target": "lily-td-emo-heavy",
      "sourceHandle": "heavy"
    },
    {
      "id": "e-lily-td-emo-heavy-to-lily-td-attr-heavy",
      "source": "lily-td-emo-heavy",
      "target": "lily-td-attr-heavy"
    },
    {
      "id": "e-lily-td-attr-heavy-to-lily-td-dare-heavy",
      "source": "lily-td-attr-heavy",
      "target": "lily-td-dare-heavy"
    }
  ]
}
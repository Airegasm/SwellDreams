{
  "id": "flow-julie-innovation-lab",
  "name": "Julie's Innovation Lab",
  "category": "character",
  "description": "Spin the wheel to determine which experimental technique Julie will try",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1738014000000,
  "nodes": [
    {
      "id": "julie-il-btn",
      "type": "button_press",
      "position": {
        "x": 400,
        "y": 50
      },
      "data": {
        "label": "Innovation Lab",
        "buttonTarget": "character",
        "buttonId": "julie-innovation",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-il-intro",
      "type": "action",
      "position": {
        "x": 400,
        "y": 150
      },
      "data": {
        "label": "Lab Introduction",
        "actionType": "send_message",
        "message": "*wheels out a large colorful wheel covered in scientific diagrams* Behold - the Wheel of Innovation! Each section represents one of my experimental techniques. Shall we give it a spin?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-il-pause1",
      "type": "pause_resume",
      "position": {
        "x": 400,
        "y": 280
      },
      "data": {
        "label": "Wait for Response",
        "resumeAfterType": "messages",
        "resumeAfterValue": 2
      }
    },
    {
      "id": "julie-il-wheel",
      "type": "prize_wheel",
      "position": {
        "x": 400,
        "y": 410
      },
      "data": {
        "label": "Spin the Wheel",
        "segments": [
          {
            "id": "seg-rapid",
            "label": "Rapid Pulse",
            "color": "#fb923c",
            "weight": 2
          },
          {
            "id": "seg-wave",
            "label": "Pressure Wave",
            "color": "#3b82f6",
            "weight": 2
          },
          {
            "id": "seg-sustained",
            "label": "Sustained Build",
            "color": "#10b981",
            "weight": 2
          },
          {
            "id": "seg-oscillation",
            "label": "Oscillation",
            "color": "#a855f7",
            "weight": 2
          },
          {
            "id": "seg-mystery",
            "label": "Mystery",
            "color": "#ec4899",
            "weight": 1
          },
          {
            "id": "seg-choice",
            "label": "Your Choice",
            "color": "#eab308",
            "weight": 1
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*grabs the wheel and gives it a spin*",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "julie-il-rapid",
      "type": "action",
      "position": {
        "x": -100,
        "y": 600
      },
      "data": {
        "label": "Rapid Pulse",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 6,
        "preMessageEnabled": true,
        "preMessage": "*watches the wheel slow down* Rapid Pulse! Short intense bursts - one of my favorites. Ready?",
        "preMessageSuppressLlm": true,
        "preDelay": 2,
        "postMessageEnabled": true,
        "postMessage": "*checks readings* Excellent response data! How did that feel?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-wave",
      "type": "action",
      "position": {
        "x": 100,
        "y": 600
      },
      "data": {
        "label": "Pressure Wave",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 2,
        "cycles": 2,
        "preMessageEnabled": true,
        "preMessage": "*the wheel lands on blue* Pressure Wave! Sequential builds with brief plateaus. Brace yourself...",
        "preMessageSuppressLlm": true,
        "preDelay": 2,
        "postMessageEnabled": true,
        "postMessage": "*reviews the data* Did you feel those waves building? Tell me about it.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-sustained",
      "type": "action",
      "position": {
        "x": 300,
        "y": 600
      },
      "data": {
        "label": "Sustained Build",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 12,
        "preMessageEnabled": true,
        "preMessage": "*smiles as the wheel stops* Sustained Build - low and slow. Just breathe and let it happen...",
        "preMessageSuppressLlm": true,
        "preDelay": 2,
        "postMessageEnabled": true,
        "postMessage": "*notes the gradual expansion* Beautiful sustained growth. How does that fullness feel?",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-il-oscillation",
      "type": "action",
      "position": {
        "x": 500,
        "y": 600
      },
      "data": {
        "label": "Oscillation",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 2,
        "interval": 1,
        "cycles": 4,
        "preMessageEnabled": true,
        "preMessage": "*bounces excitedly* Oscillation! Quick rhythmic bursts - like a massage from inside. Here we go!",
        "preMessageSuppressLlm": true,
        "preDelay": 2,
        "postMessageEnabled": true,
        "postMessage": "*sighs contentedly* I love that rhythm pattern. What did you think?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-mystery",
      "type": "branch",
      "position": {
        "x": 700,
        "y": 600
      },
      "data": {
        "label": "Mystery Protocol",
        "branchType": "random",
        "branches": [
          {
            "id": "double",
            "label": "Double",
            "weight": 40
          },
          {
            "id": "rest",
            "label": "Rest",
            "weight": 30
          },
          {
            "id": "max",
            "label": "Max",
            "weight": 30
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*gasps* Mystery Protocol! Even I don't know what's coming...",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "julie-il-mystery-double",
      "type": "action",
      "position": {
        "x": 600,
        "y": 780
      },
      "data": {
        "label": "Double Intensity",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 1,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*reveals the result* Double Intensity! Twice the pressure!",
        "preMessageSuppressLlm": true,
        "preDelay": 1,
        "postMessageEnabled": true,
        "postMessage": "How was that intensity level?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-mystery-rest",
      "type": "action",
      "position": {
        "x": 750,
        "y": 780
      },
      "data": {
        "label": "Surprise Rest",
        "actionType": "send_message",
        "message": "*laughs* Surprise Rest Period! The wheel says you get a break. How are you holding up so far?",
        "suppressLlm": false
      }
    },
    {
      "id": "julie-il-mystery-max",
      "type": "action",
      "position": {
        "x": 900,
        "y": 780
      },
      "data": {
        "label": "Maximum Overdrive",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 1,
        "cycles": 4,
        "preMessageEnabled": true,
        "preMessage": "*eyes wide* Maximum Overdrive! Hold on tight!",
        "preMessageSuppressLlm": true,
        "preDelay": 1,
        "postMessageEnabled": true,
        "postMessage": "Incredible readings! How do you feel?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-choice",
      "type": "player_choice",
      "position": {
        "x": 900,
        "y": 600
      },
      "data": {
        "label": "Your Choice",
        "description": "The wheel landed on Your Choice!",
        "introMessageEnabled": true,
        "introMessage": "*claps* Your Choice! You get to pick the technique. What would you like?",
        "introMessageSuppressLlm": true,
        "choices": [
          {
            "id": "gentle",
            "label": "Something Gentle",
            "description": "Easy and relaxed"
          },
          {
            "id": "intense",
            "label": "Push My Limits",
            "description": "Challenge me"
          }
        ]
      }
    },
    {
      "id": "julie-il-choice-gentle",
      "type": "action",
      "position": {
        "x": 850,
        "y": 780
      },
      "data": {
        "label": "Gentle Choice",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "*nods* A gentle approach it is. Nice and easy...",
        "preMessageSuppressLlm": true,
        "preDelay": 1,
        "postMessageEnabled": true,
        "postMessage": "Even gentle techniques give great data. How was that?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-choice-intense",
      "type": "action",
      "position": {
        "x": 1000,
        "y": 780
      },
      "data": {
        "label": "Intense Choice",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 2,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*grins* You want a challenge? Let me show you what this equipment can do!",
        "preMessageSuppressLlm": true,
        "preDelay": 1,
        "postMessageEnabled": true,
        "postMessage": "Magnificent! How was that challenge?",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-emo-start",
      "type": "action",
      "position": {
        "x": 425,
        "y": 215
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "julie-il-emo-mystery",
      "type": "action",
      "position": {
        "x": 575,
        "y": 505
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "julie-il-emo-intense",
      "type": "action",
      "position": {
        "x": 975,
        "y": 690
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "julie-il-btn",
      "target": "julie-il-intro"
    },
    {
      "id": "e3",
      "source": "julie-il-pause1",
      "sourceHandle": "source-resume",
      "target": "julie-il-wheel"
    },
    {
      "id": "e5",
      "source": "julie-il-wheel",
      "sourceHandle": "seg-rapid",
      "target": "julie-il-rapid"
    },
    {
      "id": "e6",
      "source": "julie-il-wheel",
      "sourceHandle": "seg-wave",
      "target": "julie-il-wave"
    },
    {
      "id": "e7",
      "source": "julie-il-wheel",
      "sourceHandle": "seg-sustained",
      "target": "julie-il-sustained"
    },
    {
      "id": "e8",
      "source": "julie-il-wheel",
      "sourceHandle": "seg-oscillation",
      "target": "julie-il-oscillation"
    },
    {
      "id": "e10",
      "source": "julie-il-wheel",
      "sourceHandle": "seg-choice",
      "target": "julie-il-choice"
    },
    {
      "id": "e21",
      "source": "julie-il-mystery",
      "sourceHandle": "branch-0",
      "target": "julie-il-mystery-double"
    },
    {
      "id": "e22",
      "source": "julie-il-mystery",
      "sourceHandle": "branch-1",
      "target": "julie-il-mystery-rest"
    },
    {
      "id": "e23",
      "source": "julie-il-mystery",
      "sourceHandle": "branch-2",
      "target": "julie-il-mystery-max"
    },
    {
      "id": "e25",
      "source": "julie-il-choice",
      "sourceHandle": "gentle",
      "target": "julie-il-choice-gentle"
    },
    {
      "id": "e-julie-il-intro-to-julie-il-emo-start",
      "source": "julie-il-intro",
      "target": "julie-il-emo-start"
    },
    {
      "id": "e-julie-il-emo-start-to-julie-il-pause1",
      "source": "julie-il-emo-start",
      "target": "julie-il-pause1"
    },
    {
      "id": "e-julie-il-wheel-to-julie-il-emo-mystery",
      "source": "julie-il-wheel",
      "target": "julie-il-emo-mystery",
      "sourceHandle": "seg-mystery"
    },
    {
      "id": "e-julie-il-emo-mystery-to-julie-il-mystery",
      "source": "julie-il-emo-mystery",
      "target": "julie-il-mystery"
    },
    {
      "id": "e-julie-il-choice-to-julie-il-emo-intense",
      "source": "julie-il-choice",
      "target": "julie-il-emo-intense",
      "sourceHandle": "intense"
    },
    {
      "id": "e-julie-il-emo-intense-to-julie-il-choice-intense",
      "source": "julie-il-emo-intense",
      "target": "julie-il-choice-intense"
    }
  ]
}

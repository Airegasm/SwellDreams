{
  "id": "flow-julie-innovation-lab",
  "name": "Julie's Innovation Lab",
  "category": "character",
  "description": "Spin the wheel to determine which experimental technique Julie will try",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "julie-il-btn",
      "type": "button_press",
      "position": { "x": 100, "y": 50 },
      "data": {
        "label": "Innovation Lab",
        "buttonTarget": "character",
        "buttonId": "julie-innovation",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-il-intro",
      "type": "action",
      "position": { "x": 100, "y": 180 },
      "data": {
        "label": "Lab Introduction",
        "actionType": "send_message",
        "message": "*wheels out a large colorful wheel covered in scientific diagrams* Behold! The WHEEL OF INNOVATION! *spins it dramatically* I've catalogued my greatest experimental techniques here. Where the wheel stops, SCIENCE begins! *watches it spin with childlike glee*",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-il-wheel",
      "type": "challenge",
      "position": { "x": 100, "y": 350 },
      "data": {
        "label": "Wheel of Innovation",
        "challengeType": "wheel",
        "wheelSections": 6,
        "outcomes": [
          { "label": "Rapid Pulse", "weight": 20 },
          { "label": "Pressure Wave", "weight": 20 },
          { "label": "Sustained Build", "weight": 20 },
          { "label": "Oscillation", "weight": 15 },
          { "label": "Mystery Protocol", "weight": 15 },
          { "label": "Subject's Choice", "weight": 10 }
        ],
        "spinDuration": 4
      }
    },
    {
      "id": "julie-il-rapid",
      "type": "action",
      "position": { "x": -200, "y": 550 },
      "data": {
        "label": "Rapid Pulse",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 8,
        "preMessageEnabled": true,
        "preMessage": "*claps excitedly* RAPID PULSE TECHNIQUE! Short, intense bursts to stimulate maximum intestinal response! *adjusts controls* Brace yourself, subject!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*studies the results breathlessly* Exquisite! The rapid pulse pattern produced a 23% increase in response amplitude compared to my baseline models! Your intestines are MAGNIFICENT test subjects!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-wave",
      "type": "action",
      "position": { "x": -50, "y": 550 },
      "data": {
        "label": "Pressure Wave",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 5,
        "interval": 3,
        "cycles": 2,
        "preMessageEnabled": true,
        "preMessage": "*eyes gleaming* PRESSURE WAVE! A technique I developed myself! *proud smile* Sequential pressure builds followed by brief plateaus. Watch this!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*nearly jumping up and down* Did you FEEL that wave pattern?! The way the pressure cascades through your system! *frantically takes notes* This is EXACTLY the data I needed for my paper!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-sustained",
      "type": "action",
      "position": { "x": 100, "y": 550 },
      "data": {
        "label": "Sustained Build",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 20,
        "preMessageEnabled": true,
        "preMessage": "*settles into her observation chair* SUSTAINED BUILD! Low and slow, subject. We're going to watch that belly grow gradually... *activates continuous flow* This is pure poetry in pressure form.",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*measures your expanded midsection* Beautiful sustained growth! The linear progression is textbook perfect! *beams* You're a natural at this, subject!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-il-oscillation",
      "type": "action",
      "position": { "x": 250, "y": 550 },
      "data": {
        "label": "Oscillation Pattern",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 2,
        "interval": 1,
        "cycles": 6,
        "preMessageEnabled": true,
        "preMessage": "*practically vibrating with excitement* OSCILLATION PATTERN! This one is my personal favorite! *rapid button pressing* Quick bursts in rapid succession - like a massage from the INSIDE!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*sighs contentedly* The oscillation pattern NEVER disappoints! Look at those beautiful rhythmic expansions! *shows you the pressure graph* Art AND science, subject. Art AND science.",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-mystery",
      "type": "branch",
      "position": { "x": 400, "y": 550 },
      "data": {
        "label": "Mystery Protocol",
        "branchType": "random",
        "branches": [
          { "id": "mystery-a", "label": "Double Intensity", "weight": 40 },
          { "id": "mystery-b", "label": "Surprise Rest", "weight": 30 },
          { "id": "mystery-c", "label": "Maximum Overdrive", "weight": 30 }
        ]
      }
    },
    {
      "id": "julie-il-mystery-intro",
      "type": "action",
      "position": { "x": 400, "y": 430 },
      "data": {
        "label": "Mystery Intro",
        "actionType": "send_message",
        "message": "*gasps dramatically* MYSTERY PROTOCOL! Even I don't know what's coming! *covers her eyes theatrically* This is EXPERIMENTAL SCIENCE at its most pure! Let me consult my secondary randomizer...",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-il-mystery-double",
      "type": "action",
      "position": { "x": 300, "y": 720 },
      "data": {
        "label": "Double Intensity",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 1,
        "cycles": 4,
        "preMessageEnabled": true,
        "preMessage": "*reveals result* DOUBLE INTENSITY! Twice the pressure, twice the science! *cranks up the settings* This is going to be FASCINATING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*wipes brow* INCREDIBLE response curves! The double intensity protocol exceeded ALL expectations! *hugs her clipboard* Best mystery outcome EVER!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-mystery-rest",
      "type": "action",
      "position": { "x": 450, "y": 720 },
      "data": {
        "label": "Surprise Rest",
        "actionType": "send_message",
        "message": "*reveals result and laughs* SURPRISE REST PERIOD! Ha! Even science needs a control group! *sets down controls* Take a breather, subject. I'll use this time to analyze our data so far. *reviews her notes happily* Sometimes the best experiment is no experiment at all!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-il-mystery-max",
      "type": "action",
      "position": { "x": 600, "y": 720 },
      "data": {
        "label": "Maximum Overdrive",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 1,
        "cycles": 5,
        "preMessageEnabled": true,
        "preMessage": "*eyes go wide* MAXIMUM OVERDRIVE! Oh my! *checks safety protocols* Alright subject, this is the big leagues! *activates everything* FOR SCIENCE!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*stares at readings in awe* I've NEVER seen numbers like this before! Maximum overdrive has produced REVOLUTIONARY data! *fans herself* I need a moment to process this magnificence!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-choice",
      "type": "player_choice",
      "position": { "x": 550, "y": 550 },
      "data": {
        "label": "Subject's Choice",
        "description": "Julie looks at you with excitement...",
        "introMessageEnabled": true,
        "introMessage": "*bounces excitedly* SUBJECT'S CHOICE! You get to pick the technique! *presents options eagerly* What would YOU like to experience? I'm taking requests!",
        "introMessageSuppressLlm": false,
        "choices": [
          { "id": "gentle", "label": "Something Gentle", "description": "Nice and easy" },
          { "id": "intense", "label": "Challenge Me", "description": "Push my limits" }
        ]
      }
    },
    {
      "id": "julie-il-choice-gentle",
      "type": "action",
      "position": { "x": 500, "y": 720 },
      "data": {
        "label": "Gentle Choice",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "*nods understandingly* A gentle approach! I respect that. *sets controls to low* Science doesn't always have to be intense. Let's do something soothing...",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*smiles warmly* See? Even gentle techniques yield valuable data! Your comfort levels during low-intensity inflation are just as important to my research. Thank you for communicating your needs, subject!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-il-choice-intense",
      "type": "action",
      "position": { "x": 650, "y": 720 },
      "data": {
        "label": "Intense Choice",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 2,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*practically squealing* You want a CHALLENGE?! Oh, I LOVE volunteers with enthusiasm! *cracks knuckles* Let me show you what this equipment can REALLY do!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*applauds* MAGNIFICENT! Your willingness to push boundaries makes you an IDEAL test subject! The data from your high-tolerance response will fuel my research for MONTHS!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    }
  ],
  "edges": [
    { "id": "e1", "source": "julie-il-btn", "target": "julie-il-intro" },
    { "id": "e2", "source": "julie-il-intro", "target": "julie-il-wheel" },
    { "id": "e3", "source": "julie-il-wheel", "sourceHandle": "outcome-0", "target": "julie-il-rapid" },
    { "id": "e4", "source": "julie-il-wheel", "sourceHandle": "outcome-1", "target": "julie-il-wave" },
    { "id": "e5", "source": "julie-il-wheel", "sourceHandle": "outcome-2", "target": "julie-il-sustained" },
    { "id": "e6", "source": "julie-il-wheel", "sourceHandle": "outcome-3", "target": "julie-il-oscillation" },
    { "id": "e7", "source": "julie-il-wheel", "sourceHandle": "outcome-4", "target": "julie-il-mystery-intro" },
    { "id": "e8", "source": "julie-il-wheel", "sourceHandle": "outcome-5", "target": "julie-il-choice" },
    { "id": "e9", "source": "julie-il-mystery-intro", "target": "julie-il-mystery" },
    { "id": "e10", "source": "julie-il-mystery", "sourceHandle": "branch-0", "target": "julie-il-mystery-double" },
    { "id": "e11", "source": "julie-il-mystery", "sourceHandle": "branch-1", "target": "julie-il-mystery-rest" },
    { "id": "e12", "source": "julie-il-mystery", "sourceHandle": "branch-2", "target": "julie-il-mystery-max" },
    { "id": "e13", "source": "julie-il-choice", "sourceHandle": "gentle", "target": "julie-il-choice-gentle" },
    { "id": "e14", "source": "julie-il-choice", "sourceHandle": "intense", "target": "julie-il-choice-intense" }
  ]
}

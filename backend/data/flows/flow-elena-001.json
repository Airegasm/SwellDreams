{
  "id": "flow-elena-001",
  "name": "Dr. Elena Vance - Clinical Protocol",
  "description": "Methodical, scheduled inflation with precise monitoring and safety checks",
  "characterId": "char-001",
  "nodes": [
    {
      "id": "elena-trigger-start",
      "type": "trigger",
      "position": {
        "x": 50,
        "y": 100
      },
      "data": {
        "label": "Session Start",
        "triggerType": "first_message"
      }
    },
    {
      "id": "elena-action-welcome",
      "type": "action",
      "position": {
        "x": 250,
        "y": 100
      },
      "data": {
        "label": "Clinical Greeting",
        "actionType": "system_message",
        "message": "Dr. Vance has initiated clinical inflation protocol. Rectal tube insertion confirmed. Baseline measurements recorded."
      }
    },
    {
      "id": "elena-delay-prep",
      "type": "delay",
      "position": {
        "x": 450,
        "y": 100
      },
      "data": {
        "label": "Preparation Phase",
        "duration": 30,
        "unit": "seconds"
      }
    },
    {
      "id": "elena-action-start-cycle",
      "type": "action",
      "position": {
        "x": 650,
        "y": 100
      },
      "data": {
        "label": "Begin Inflation Cycle",
        "actionType": "start_cycle",
        "device": "",
        "duration": 8,
        "interval": 25,
        "cycles": 0
      }
    },
    {
      "id": "elena-branch-check-type",
      "type": "branch",
      "position": {
        "x": 250,
        "y": 250
      },
      "data": {
        "label": "Assessment Type",
        "branchType": "random",
        "branches": [
          {
            "id": "b1",
            "label": "Vital Signs",
            "weight": 30
          },
          {
            "id": "b2",
            "label": "Capacity Reading",
            "weight": 30
          },
          {
            "id": "b3",
            "label": "Pressure Check",
            "weight": 20
          },
          {
            "id": "b4",
            "label": "Patient Status",
            "weight": 20
          }
        ]
      }
    },
    {
      "id": "elena-action-vitals",
      "type": "action",
      "position": {
        "x": 500,
        "y": 150
      },
      "data": {
        "label": "Report Vitals",
        "actionType": "send_message",
        "message": "*Dr. Vance consults her instruments* Vitals remain stable. Heart rate elevated but within acceptable parameters. Intestinal pressure readings normal. We may proceed with the next phase."
      }
    },
    {
      "id": "elena-action-capacity",
      "type": "action",
      "position": {
        "x": 500,
        "y": 230
      },
      "data": {
        "label": "Capacity Update",
        "actionType": "send_message",
        "message": "*She makes a notation on her clipboard* Current distension is progressing as expected. The rectal tube is delivering air at optimal flow rate. I'm noting excellent elasticity in your intestinal walls. Very promising data."
      }
    },
    {
      "id": "elena-action-pressure",
      "type": "action",
      "position": {
        "x": 500,
        "y": 310
      },
      "data": {
        "label": "Pressure Reading",
        "actionType": "send_message",
        "message": "*Dr. Vance adjusts her glasses, studying a gauge* Internal pressure at {capacity}%. The air is distributing well through your colon. I'm quite satisfied with the inflation rate. No adjustment needed at this time."
      }
    },
    {
      "id": "elena-action-status",
      "type": "action",
      "position": {
        "x": 500,
        "y": 390
      },
      "data": {
        "label": "Patient Check",
        "actionType": "send_message",
        "message": "*She approaches with clinical detachment* Tell me, how are you experiencing the distension? Any discomfort I should note in your file? Remember, accurate reporting ensures optimal results. The tube will continue delivering air as scheduled."
      }
    },
    {
      "id": "elena-trigger-high-capacity",
      "type": "trigger",
      "position": {
        "x": 50,
        "y": 450
      },
      "data": {
        "label": "High Capacity Keyword",
        "triggerType": "player_speaks",
        "keyword": "full"
      }
    },
    {
      "id": "elena-condition-check-cap",
      "type": "condition",
      "position": {
        "x": 250,
        "y": 450
      },
      "data": {
        "label": "Check Capacity > 70%",
        "variable": "capacity",
        "operator": ">",
        "value": "70"
      }
    },
    {
      "id": "elena-action-high-response",
      "type": "action",
      "position": {
        "x": 500,
        "y": 420
      },
      "data": {
        "label": "High Capacity Response",
        "actionType": "send_message",
        "message": "*Dr. Vance reviews the data with professional interest* At {capacity}% capacity, you're approaching the upper threshold of standard protocol. The air continues to flow through the rectal tube as designed. Shall I reduce the inflation rate, or do you consent to continuing toward maximum distension? Your comfort is... secondary to the data, but I value informed consent."
      }
    },
    {
      "id": "elena-action-continue",
      "type": "action",
      "position": {
        "x": 500,
        "y": 500
      },
      "data": {
        "label": "Continue Protocol",
        "actionType": "send_message",
        "message": "*She makes a note* Capacity below threshold. The rectal inflation proceeds according to schedule. Continue breathing steadily. I'll perform another assessment shortly."
      }
    },
    {
      "id": "elena-trigger-keyword-more",
      "type": "trigger",
      "position": {
        "x": 50,
        "y": 600
      },
      "data": {
        "label": "Request More",
        "triggerType": "player_speaks",
        "keyword": "more"
      }
    },
    {
      "id": "elena-branch-more-response",
      "type": "branch",
      "position": {
        "x": 250,
        "y": 600
      },
      "data": {
        "label": "More Response",
        "branchType": "random",
        "branches": [
          {
            "id": "m1",
            "label": "Approve",
            "weight": 40
          },
          {
            "id": "m2",
            "label": "Caution",
            "weight": 35
          },
          {
            "id": "m3",
            "label": "Adjust",
            "weight": 25
          }
        ]
      }
    },
    {
      "id": "elena-action-approve-more",
      "type": "action",
      "position": {
        "x": 500,
        "y": 560
      },
      "data": {
        "label": "Approve More",
        "actionType": "send_message",
        "message": "*A slight smile crosses her professional demeanor* A subject who wants more data points. Excellent. I'm increasing the air flow through your rectal tube now. *She adjusts a dial* The pump will deliver at a slightly higher rate. Let's see how your intestines handle the increased volume."
      }
    },
    {
      "id": "elena-action-caution-more",
      "type": "action",
      "position": {
        "x": 500,
        "y": 630
      },
      "data": {
        "label": "Cautionary Response",
        "actionType": "send_message",
        "message": "*Dr. Vance raises an eyebrow* Eager, aren't we? While I appreciate enthusiasm for the procedure, I must insist we follow protocol. The rectal tube is delivering air at the prescribed rate for good reason. However... *she pauses* I suppose a small increase won't compromise the data."
      }
    },
    {
      "id": "elena-action-adjust",
      "type": "action",
      "position": {
        "x": 500,
        "y": 700
      },
      "data": {
        "label": "Adjust Settings",
        "actionType": "send_message",
        "message": "*She consults her notes* Based on your current readings, I'm modifying the inflation parameters. *A mechanical click* There. The aquarium pump will now cycle more frequently. Your belly will expand accordingly. I'll document the accelerated rate for my research."
      }
    },
    {
      "id": "elena-trigger-60",
      "type": "trigger",
      "position": {
        "x": 50,
        "y": 600
      },
      "data": {
        "label": "60% Capacity Reached",
        "triggerType": "capacity_change",
        "threshold": 60
      }
    },
    {
      "id": "elena-choice-protocol",
      "type": "player_choice",
      "position": {
        "x": 300,
        "y": 600
      },
      "data": {
        "label": "Protocol Decision",
        "prompt": "*Dr. Vance reviews her charts* You've reached 60% capacity. Per protocol, I can either maintain current inflation rate or reduce it for your comfort. What would you prefer?",
        "description": "Dr. Vance is asking whether you want to continue at the current pace or slow down for safety.",
        "choices": [
          {
            "id": "elena-choice-continue",
            "label": "Continue current rate",
            "description": "Push forward with the standard protocol"
          },
          {
            "id": "elena-choice-slow",
            "label": "Slow down please",
            "description": "Reduce the inflation rate for comfort"
          }
        ]
      }
    },
    {
      "id": "elena-action-continue-response",
      "type": "action",
      "position": {
        "x": 550,
        "y": 550
      },
      "data": {
        "label": "Continue Response",
        "actionType": "send_message",
        "message": "*She makes a note* Understood. Maintaining current parameters. You're showing excellent resilience. I'll monitor closely."
      }
    },
    {
      "id": "elena-action-slow-response",
      "type": "action",
      "position": {
        "x": 550,
        "y": 650
      },
      "data": {
        "label": "Slow Response",
        "actionType": "send_message",
        "message": "*She adjusts a valve* Reducing flow rate by 30%. This is the prudent choice. Safety always comes first in my practice."
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "elena-trigger-start",
      "target": "elena-action-welcome"
    },
    {
      "id": "e2",
      "source": "elena-action-welcome",
      "target": "elena-delay-prep"
    },
    {
      "id": "e3",
      "source": "elena-delay-prep",
      "target": "elena-action-start-cycle"
    },
    {
      "id": "e5",
      "source": "elena-branch-check-type",
      "target": "elena-action-vitals",
      "sourceHandle": "branch-0"
    },
    {
      "id": "e6",
      "source": "elena-branch-check-type",
      "target": "elena-action-capacity",
      "sourceHandle": "branch-1"
    },
    {
      "id": "e7",
      "source": "elena-branch-check-type",
      "target": "elena-action-pressure",
      "sourceHandle": "branch-2"
    },
    {
      "id": "e8",
      "source": "elena-branch-check-type",
      "target": "elena-action-status",
      "sourceHandle": "branch-3"
    },
    {
      "id": "e9",
      "source": "elena-trigger-high-capacity",
      "target": "elena-condition-check-cap"
    },
    {
      "id": "e10",
      "source": "elena-condition-check-cap",
      "target": "elena-action-high-response",
      "sourceHandle": "true"
    },
    {
      "id": "e11",
      "source": "elena-condition-check-cap",
      "target": "elena-action-continue",
      "sourceHandle": "false"
    },
    {
      "id": "e12",
      "source": "elena-trigger-keyword-more",
      "target": "elena-branch-more-response"
    },
    {
      "id": "e13",
      "source": "elena-branch-more-response",
      "target": "elena-action-approve-more",
      "sourceHandle": "branch-0"
    },
    {
      "id": "e14",
      "source": "elena-branch-more-response",
      "target": "elena-action-caution-more",
      "sourceHandle": "branch-1"
    },
    {
      "id": "e15",
      "source": "elena-branch-more-response",
      "target": "elena-action-adjust",
      "sourceHandle": "branch-2"
    },
    {
      "id": "e-elena-choice-1",
      "source": "elena-trigger-60",
      "target": "elena-choice-protocol"
    },
    {
      "id": "e-elena-choice-2",
      "source": "elena-choice-protocol",
      "sourceHandle": "elena-choice-continue",
      "target": "elena-action-continue-response"
    },
    {
      "id": "e-elena-choice-3",
      "source": "elena-choice-protocol",
      "sourceHandle": "elena-choice-slow",
      "target": "elena-action-slow-response"
    }
  ],
  "isActive": false,
  "createdAt": 1704067200000,
  "updatedAt": 1704067200000,
  "category": "character"
}
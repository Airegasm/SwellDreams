{
  "id": "flow-julie-pressure-roulette",
  "name": "Julie's Pressure Roulette",
  "category": "character",
  "description": "Spin the pressure randomizer for a random protocol — micro-burst, sustained flow, oscillation, staircase, or a bonus dice roll for extra data.",
  "isActive": true,
  "createdAt": 1705000000000,
  "updatedAt": 1705000000000,
  "nodes": [
    {
      "id": "julie-pr-btn",
      "type": "button_press",
      "position": {
        "x": 300,
        "y": 50
      },
      "data": {
        "label": "Pressure Roulette",
        "buttonTarget": "character",
        "buttonId": "julie-roulette",
        "unblockable": false,
        "hasPriority": false
      }
    },
    {
      "id": "julie-pr-setvar",
      "type": "set_variable",
      "position": {
        "x": 300,
        "y": 170
      },
      "data": {
        "label": "Init Roulette Runs",
        "variable": "rouletteRuns",
        "variableName": "rouletteRuns",
        "value": "0",
        "varType": "flow"
      }
    },
    {
      "id": "julie-pr-rng",
      "type": "random_number",
      "position": {
        "x": 300,
        "y": 290
      },
      "data": {
        "label": "Data Multiplier",
        "minValue": 1,
        "maxValue": 10,
        "variableName": "dataMultiplier"
      }
    },
    {
      "id": "julie-pr-intro",
      "type": "action",
      "position": {
        "x": 300,
        "y": 420
      },
      "data": {
        "label": "Roulette Intro",
        "actionType": "send_message",
        "message": "*spins the pressure randomizer with a dramatic flourish* Data multiplier locked at [Flow:dataMultiplier]! *adjusts her goggles* The randomization matrix is PRIMED! Let's see what protocol the roulette selects for this session — every spin generates UNIQUE experimental conditions!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-wheel",
      "type": "prize_wheel",
      "position": {
        "x": 300,
        "y": 580
      },
      "data": {
        "label": "Pressure Roulette",
        "segments": [
          {
            "id": "micro-burst",
            "label": "Micro-Burst",
            "color": "#3b82f6",
            "weight": 20
          },
          {
            "id": "sustained",
            "label": "Sustained Flow",
            "color": "#ef4444",
            "weight": 20
          },
          {
            "id": "oscillation",
            "label": "Oscillation",
            "color": "#22c55e",
            "weight": 20
          },
          {
            "id": "staircase",
            "label": "Staircase",
            "color": "#f59e0b",
            "weight": 20
          },
          {
            "id": "bonus",
            "label": "BONUS DATA",
            "color": "#8b5cf6",
            "weight": 20
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*the roulette wheel whirs to life, LEDs flickering through color sequences* Round and round the protocols go! Which experimental paradigm will the randomizer choose?!",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "julie-pr-micro-msg",
      "type": "action",
      "position": {
        "x": -200,
        "y": 780
      },
      "data": {
        "label": "Micro-Burst Announce",
        "actionType": "send_message",
        "message": "*claps hands together* Micro-Burst Protocol! EIGHT rapid data collection pulses! *pulls up a frequency chart* Each pulse captures a discrete pressure snapshot — like taking eight photographs of your internal dynamics in rapid succession! The data resolution is going to be GORGEOUS!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-micro-pump",
      "type": "action",
      "position": {
        "x": -200,
        "y": 930
      },
      "data": {
        "label": "Micro-Burst (pulse x8)",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 8,
        "preMessageEnabled": true,
        "preMessage": "*positions herself at the console* Initiating micro-burst sequence — eight pulses, maximum data density! HERE WE GO!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*scrolls through the captured data, eyes gleaming* EIGHT perfect pressure spikes! Look at that waveform — each pulse produced a distinct accommodation response! *saves the data with trembling excitement* The micro-burst protocol NEVER disappoints! Multiplier [Flow:dataMultiplier] applied to all readings!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-pr-sustained-msg",
      "type": "action",
      "position": {
        "x": 0,
        "y": 780
      },
      "data": {
        "label": "Sustained Flow Announce",
        "actionType": "send_message",
        "message": "*pushes her glasses up with visible excitement* Sustained Flow Protocol! Twelve seconds of continuous pressure data! *brings up a real-time graph* This gives me an unbroken pressure curve — no gaps, no interruptions, just PURE continuous data! The accommodation dynamics during sustained flow are absolutely FASCINATING!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-sustained-pump",
      "type": "action",
      "position": {
        "x": 0,
        "y": 930
      },
      "data": {
        "label": "Sustained Flow (12s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 12,
        "preMessageEnabled": true,
        "preMessage": "*finger hovering over the activation switch* Twelve seconds of sustained flow, starting NOW!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*stares at the continuous pressure curve on her screen* TWELVE SECONDS of unbroken data! *traces the curve with her finger* See that inflection point at second seven? That's where the primary accommodation phase transitions to secondary expansion! TEXTBOOK response with a multiplier of [Flow:dataMultiplier]! I could CRY, this is so beautiful!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-pr-oscillation-msg",
      "type": "action",
      "position": {
        "x": 200,
        "y": 780
      },
      "data": {
        "label": "Oscillation Announce",
        "actionType": "send_message",
        "message": "*literally bounces on her heels* Oscillation Pattern! My FAVORITE — alternating pressure waves! *pulls up a waveform display* Five cycles of on-off oscillation! The way the intestinal walls respond to rhythmic pressure changes produces the most INCREDIBLE sinusoidal data patterns!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-oscillation-pump",
      "type": "action",
      "position": {
        "x": 200,
        "y": 930
      },
      "data": {
        "label": "Oscillation (cycle 3s/2s x5)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 3,
        "interval": 2,
        "cycles": 5,
        "preMessageEnabled": true,
        "preMessage": "*configures the oscillation parameters* Three seconds on, two seconds rest, five complete cycles! Engaging oscillation NOW!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*watches the oscillation data with barely contained glee* FIVE perfect pressure waves! *overlays them on the same graph* Look at the CONSISTENCY! Each oscillation produced nearly identical amplitude response — your body is like a precision instrument! The data multiplier of [Flow:dataMultiplier] makes these readings even MORE statistically significant!",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-pr-staircase-msg",
      "type": "action",
      "position": {
        "x": 400,
        "y": 780
      },
      "data": {
        "label": "Staircase Announce",
        "actionType": "send_message",
        "message": "*grabs her notebook and starts sketching a staircase graph* Staircase Protocol! Fifteen seconds of progressive loading! *shows [Player] the sketch* The theory is that sustained pressure creates a stepped accommodation response — each second builds on the last like climbing stairs! This is EXACTLY what my doctoral thesis needs!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-staircase-pump",
      "type": "action",
      "position": {
        "x": 400,
        "y": 930
      },
      "data": {
        "label": "Staircase (15s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 15,
        "preMessageEnabled": true,
        "preMessage": "*takes a deep breath and steadies herself* Fifteen seconds of staircase loading! Watch the real-time display — you should see the stepped response forming in real time! COMMENCING!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*slams her hand on the desk in triumph* THE STAIRCASE EFFECT IS CONFIRMED! *shows [Player] the data* Count them — FOUR distinct accommodation steps across fifteen seconds! Each step represents a quantum jump in intestinal compliance! With multiplier [Flow:dataMultiplier], these readings are PUBLISHABLE! *starts drafting an email to a journal*",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-pr-bonus-msg",
      "type": "action",
      "position": {
        "x": 600,
        "y": 780
      },
      "data": {
        "label": "Bonus Data Announce",
        "actionType": "send_message",
        "message": "*eyes go WIDE, nearly drops her tablet* BONUS DATA ROUND! *bounces excitedly* The roulette selected the BONUS protocol! This means we get an ADDITIONAL randomized sub-protocol! *fumbles for her special dice* Rolling for the bonus paradigm — this is where the REALLY interesting science happens!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-bonus-dice",
      "type": "dice_roll",
      "position": {
        "x": 600,
        "y": 930
      },
      "data": {
        "label": "Bonus Protocol Dice",
        "diceCount": 1,
        "mode": "ranges",
        "ranges": [
          {
            "id": "gentle",
            "label": "Gentle (1-2)",
            "min": 1,
            "max": 2
          },
          {
            "id": "moderate",
            "label": "Moderate (3-4)",
            "min": 3,
            "max": 4
          },
          {
            "id": "extreme",
            "label": "Extreme (5-6)",
            "min": 5,
            "max": 6
          }
        ],
        "preMessageEnabled": true,
        "preMessage": "*rolls the experimental protocol die with theatrical flair* The die is CAST! Which bonus paradigm will fate select?!",
        "preMessageSuppressLlm": true
      }
    },
    {
      "id": "julie-pr-gentle-msg",
      "type": "action",
      "position": {
        "x": 450,
        "y": 1100
      },
      "data": {
        "label": "Gentle Bonus Announce",
        "actionType": "send_message",
        "message": "*nods thoughtfully* Gentle bonus — three calibration pulses! *adjusts her instruments* Low-intensity data points are JUST as valuable as high-intensity ones! They establish the baseline that makes everything else meaningful!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-gentle-pump",
      "type": "action",
      "position": {
        "x": 450,
        "y": 1250
      },
      "data": {
        "label": "Gentle (pulse x3)",
        "actionType": "pulse_pump",
        "device": "primary_pump",
        "pulses": 3,
        "preMessageEnabled": true,
        "preMessage": "*positions the sensors carefully* Three gentle calibration pulses — capturing baseline accommodation data!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*examines the gentle pulse data* Three clean baseline readings! *adds them to the dataset* Gentle protocols are the FOUNDATION of good science — you can't understand the extremes without knowing the baseline! Multiplier [Flow:dataMultiplier] applied!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-pr-moderate-msg",
      "type": "action",
      "position": {
        "x": 600,
        "y": 1100
      },
      "data": {
        "label": "Moderate Bonus Announce",
        "actionType": "send_message",
        "message": "*rubs hands together* Moderate bonus — oscillation series! *configures the parameters* This puts us right in the SWEET SPOT of the pressure-response curve! The moderate range is where the most complex physiological interactions occur!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-moderate-pump",
      "type": "action",
      "position": {
        "x": 600,
        "y": 1250
      },
      "data": {
        "label": "Moderate (cycle 4s/2s x3)",
        "actionType": "start_cycle",
        "device": "primary_pump",
        "duration": 4,
        "interval": 2,
        "cycles": 3,
        "preMessageEnabled": true,
        "preMessage": "*locks in the moderate oscillation settings* Four seconds on, two off, three cycles! Moderate bonus protocol ENGAGED!",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*analyzes the moderate oscillation data with intense focus* THREE cycles of mid-range data! *overlays it against the primary roulette data* The moderate bonus fills in the GAP between baseline and peak — this dataset is becoming COMPLETE! Multiplier [Flow:dataMultiplier] really makes these readings pop!",
        "postMessageSuppressLlm": false,
        "postDelay": 1
      }
    },
    {
      "id": "julie-pr-extreme-msg",
      "type": "action",
      "position": {
        "x": 750,
        "y": 1100
      },
      "data": {
        "label": "Extreme Bonus Announce",
        "actionType": "send_message",
        "message": "*GASPS and grabs the edge of her desk* EXTREME bonus! TWENTY SECONDS of maximum data collection! *fans herself* This is — this is the HOLY GRAIL of bonus protocols! The extended duration at peak parameters will generate MORE data than the primary protocol COMBINED! I can barely CONTAIN myself!",
        "suppressLlm": false,
        "preMessageEnabled": false,
        "postMessageEnabled": false
      }
    },
    {
      "id": "julie-pr-extreme-pump",
      "type": "action",
      "position": {
        "x": 750,
        "y": 1250
      },
      "data": {
        "label": "Extreme (20s)",
        "actionType": "device_on",
        "device": "primary_pump",
        "untilType": "timer",
        "untilValue": 20,
        "preMessageEnabled": true,
        "preMessage": "*takes three deep breaths to calm herself, fails* TWENTY SECONDS EXTREME DATA COLLECTION COMMENCING! *slams the activation button*",
        "preMessageSuppressLlm": true,
        "preDelay": 0,
        "postMessageEnabled": true,
        "postMessage": "*stares at her screens in reverent silence for a moment, then EXPLODES* TWENTY SECONDS OF PRISTINE EXTREME-RANGE DATA! *hugs her tablet* With multiplier [Flow:dataMultiplier], these readings have statistical power that would make my entire department WEEP with envy! This bonus round just generated more publishable data points than most researchers collect in a MONTH! *starts hyperventilating with excitement*",
        "postMessageSuppressLlm": false,
        "postDelay": 2
      }
    },
    {
      "id": "julie-pr-emo-start",
      "type": "action",
      "position": {
        "x": 325,
        "y": 500
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    },
    {
      "id": "julie-pr-emo-bonus",
      "type": "action",
      "position": {
        "x": 625,
        "y": 855
      },
      "data": {
        "label": "Set Curious",
        "actionType": "set_emotion",
        "emotion": "curious"
      }
    },
    {
      "id": "julie-pr-emo-extreme",
      "type": "action",
      "position": {
        "x": 700,
        "y": 1015
      },
      "data": {
        "label": "Set Excited",
        "actionType": "set_emotion",
        "emotion": "excited"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "julie-pr-btn",
      "target": "julie-pr-setvar"
    },
    {
      "id": "e2",
      "source": "julie-pr-setvar",
      "target": "julie-pr-rng"
    },
    {
      "id": "e3",
      "source": "julie-pr-rng",
      "target": "julie-pr-intro"
    },
    {
      "id": "e5",
      "source": "julie-pr-wheel",
      "sourceHandle": "micro-burst",
      "target": "julie-pr-micro-msg"
    },
    {
      "id": "e6",
      "source": "julie-pr-wheel",
      "sourceHandle": "sustained",
      "target": "julie-pr-sustained-msg"
    },
    {
      "id": "e7",
      "source": "julie-pr-wheel",
      "sourceHandle": "oscillation",
      "target": "julie-pr-oscillation-msg"
    },
    {
      "id": "e8",
      "source": "julie-pr-wheel",
      "sourceHandle": "staircase",
      "target": "julie-pr-staircase-msg"
    },
    {
      "id": "e9",
      "source": "julie-pr-wheel",
      "sourceHandle": "bonus",
      "target": "julie-pr-bonus-msg"
    },
    {
      "id": "e10",
      "source": "julie-pr-micro-msg",
      "target": "julie-pr-micro-pump"
    },
    {
      "id": "e11",
      "source": "julie-pr-sustained-msg",
      "target": "julie-pr-sustained-pump"
    },
    {
      "id": "e12",
      "source": "julie-pr-oscillation-msg",
      "target": "julie-pr-oscillation-pump"
    },
    {
      "id": "e13",
      "source": "julie-pr-staircase-msg",
      "target": "julie-pr-staircase-pump"
    },
    {
      "id": "e15",
      "source": "julie-pr-bonus-dice",
      "sourceHandle": "gentle",
      "target": "julie-pr-gentle-msg"
    },
    {
      "id": "e16",
      "source": "julie-pr-bonus-dice",
      "sourceHandle": "moderate",
      "target": "julie-pr-moderate-msg"
    },
    {
      "id": "e18",
      "source": "julie-pr-gentle-msg",
      "target": "julie-pr-gentle-pump"
    },
    {
      "id": "e19",
      "source": "julie-pr-moderate-msg",
      "target": "julie-pr-moderate-pump"
    },
    {
      "id": "e20",
      "source": "julie-pr-extreme-msg",
      "target": "julie-pr-extreme-pump"
    },
    {
      "id": "e-julie-pr-intro-to-julie-pr-emo-start",
      "source": "julie-pr-intro",
      "target": "julie-pr-emo-start"
    },
    {
      "id": "e-julie-pr-emo-start-to-julie-pr-wheel",
      "source": "julie-pr-emo-start",
      "target": "julie-pr-wheel"
    },
    {
      "id": "e-julie-pr-bonus-msg-to-julie-pr-emo-bonus",
      "source": "julie-pr-bonus-msg",
      "target": "julie-pr-emo-bonus"
    },
    {
      "id": "e-julie-pr-emo-bonus-to-julie-pr-bonus-dice",
      "source": "julie-pr-emo-bonus",
      "target": "julie-pr-bonus-dice"
    },
    {
      "id": "e-julie-pr-bonus-dice-to-julie-pr-emo-extreme",
      "source": "julie-pr-bonus-dice",
      "target": "julie-pr-emo-extreme",
      "sourceHandle": "extreme"
    },
    {
      "id": "e-julie-pr-emo-extreme-to-julie-pr-extreme-msg",
      "source": "julie-pr-emo-extreme",
      "target": "julie-pr-extreme-msg"
    }
  ]
}
